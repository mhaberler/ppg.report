import{r as v,j as Pa,c0 as ot,bd as ye,c1 as ie,k as $n,l as Jt,c2 as Aa,b2 as Ca,F as Da,n as jr,A as ka}from"./index-CHr9Ao7b.js";var Na=Ia()?v.useLayoutEffect:v.useEffect;function Ia(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ja(){var t=v.useState(Object.create(null)),e=t[1];return v.useCallback(function(){e(Object.create(null))},[])}var La=function(e){var r=e.children,n=e.type,i=n===void 0?"reach-portal":n,a=v.useRef(null),o=v.useRef(null),s=ja();return Na(function(){if(a.current){var u=a.current.ownerDocument;return o.current=u==null?void 0:u.createElement(i),u.body.appendChild(o.current),s(),function(){o.current&&o.current.ownerDocument&&o.current.ownerDocument.body.removeChild(o.current)}}},[i,s]),o.current?Pa.createPortal(r,o.current):v.createElement("span",{ref:a})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O=function(){return O=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},O.apply(this,arguments)};function gn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function z(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function X(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var G;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(G||(G={}));var ct;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(ct||(ct={}));var Qr=G.Start,mn=G.Stop,_t=G.Raise,Lr=G.Send,Ci=G.Cancel,za=G.NullEvent,bn=G.Assign;G.After;G.DoneState;var Di=G.Log,Fa=G.Init,en=G.Invoke;G.ErrorExecution;var Hn=G.ErrorPlatform,Ma=G.ErrorCustom,ki=G.Update,Va=G.Choose,Ba=G.Pure,Ni=".",Gn={},tn="xstate.guard",_a="",Zt;function wn(t,e,r){r===void 0&&(r=Ni);var n=At(t,r),i=At(e,r);return $(i)?$(n)?i===n:!1:$(n)?n in i:Object.keys(n).every(function(a){return a in i?wn(n[a],i[a]):!1})}function Ii(t){try{return $(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function rn(t,e){try{return dt(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function $a(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function At(t,e){if($a(t))return t.value;if(dt(t))return xr(t);if(typeof t!="string")return t;var r=rn(t,e);return xr(r)}function xr(t){if(t.length===1)return t[0];for(var e={},r=e,n=0;n<t.length-1;n++)n===t.length-2?r[t[n]]=t[n+1]:(r[t[n]]={},r=r[t[n]]);return e}function Ot(t,e){for(var r={},n=Object.keys(t),i=0;i<n.length;i++){var a=n[i];r[a]=e(t[a],a,t,i)}return r}function qn(t,e,r){var n,i,a={};try{for(var o=z(Object.keys(t)),s=o.next();!s.done;s=o.next()){var u=s.value,c=t[u];r(c)&&(a[u]=e(c,u,t))}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}var Ha=function(t){return function(e){var r,n,i=e;try{for(var a=z(t),o=a.next();!o.done;o=a.next()){var s=o.value;i=i[s]}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}};function Ga(t,e){return function(r){var n,i,a=r;try{for(var o=z(t),s=o.next();!s.done;s=o.next()){var u=s.value;a=a[e][u]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}}function pr(t){if(!t)return[[]];if($(t))return[[t]];var e=Q(Object.keys(t).map(function(r){var n=t[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:pr(t[r]).map(function(i){return[r].concat(i)})}));return e}function Q(t){var e;return(e=[]).concat.apply(e,X([],M(t),!1))}function ji(t){return dt(t)?t:[t]}function Ee(t){return t===void 0?[]:ji(t)}function Er(t,e,r){var n,i;if(V(t))return t(e,r.data);var a={};try{for(var o=z(Object.keys(t)),s=o.next();!s.done;s=o.next()){var u=s.value,c=t[u];V(c)?a[u]=c(e,r.data):a[u]=c}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function qa(t){return/^(done|error)\./.test(t)}function Un(t){return!!(t instanceof Promise||t!==null&&(V(t)||typeof t=="object")&&V(t.then))}function Ua(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function Ka(t,e){var r,n,i=M([[],[]],2),a=i[0],o=i[1];try{for(var s=z(t),u=s.next();!u.done;u=s.next()){var c=u.value;e(c)?a.push(c):o.push(c)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return[a,o]}function Li(t,e){return Ot(t.states,function(r,n){if(r){var i=($(e)?void 0:e[n])||(r?r.current:void 0);if(i)return{current:i,states:Li(r,i)}}})}function Wa(t,e){return{current:e,states:Li(t,e)}}function Kn(t,e,r,n){var i=t&&r.reduce(function(a,o){var s,u,c=o.assignment,f={state:n,action:o,_event:e},l={};if(V(c))l=c(a,e.data,f);else try{for(var d=z(Object.keys(c)),h=d.next();!h.done;h=d.next()){var g=h.value,m=c[g];l[g]=V(m)?m(a,e.data,f):m}}catch(R){s={error:R}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}return Object.assign({},a,l)},t);return i}var Xa=function(){};function dt(t){return Array.isArray(t)}function V(t){return typeof t=="function"}function $(t){return typeof t=="string"}function zi(t,e){if(t)return $(t)?{type:tn,name:t,predicate:e?e[t]:void 0}:V(t)?{type:tn,name:t.name,predicate:t}:t}function Ya(t){try{return"subscribe"in t&&V(t.subscribe)}catch{return!1}}var Le=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Zt={},Zt[Le]=function(){return this},Zt[Symbol.observable]=function(){return this};function ft(t){return!!t&&"__xstatenode"in t}function Ja(t){return!!t&&typeof t.send=="function"}function zr(t,e){return $(t)||typeof t=="number"?O({type:t},e):t}function ce(t,e){if(!$(t)&&"$$type"in t&&t.$$type==="scxml")return t;var r=zr(t);return O({name:r.type,data:r,$$type:"scxml",type:"external"},e)}function Qe(t,e){var r=ji(e).map(function(n){return typeof n>"u"||typeof n=="string"||ft(n)?{target:n,event:t}:O(O({},n),{event:t})});return r}function Za(t){if(!(t===void 0||t===_a))return Ee(t)}function Fi(t,e,r,n,i){var a=t.options.guards,o={state:i,cond:e,_event:n};if(e.type===tn)return((a==null?void 0:a[e.name])||e.predicate)(r,n.data,o);var s=a==null?void 0:a[e.type];if(!s)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return s(r,n.data,o)}function Mi(t){return typeof t=="string"?{type:t}:t}function yr(t,e,r){var n=function(){},i=typeof t=="object",a=i?t:null;return{next:((i?t.next:t)||n).bind(a),error:((i?t.error:e)||n).bind(a),complete:((i?t.complete:r)||n).bind(a)}}function Qt(t,e){return"".concat(t,":invocation[").concat(e,"]")}function nn(t){return(t.type===_t||t.type===Lr&&t.to===ct.Internal)&&typeof t.delay!="number"}var st=ce({type:Fa});function an(t,e){return e&&e[t]||void 0}function Mt(t,e){var r;if($(t)||typeof t=="number"){var n=an(t,e);V(n)?r={type:t,exec:n}:n?r=n:r={type:t,exec:void 0}}else if(V(t))r={type:t.name||t.toString(),exec:t};else{var n=an(t.type,e);if(V(n))r=O(O({},t),{exec:n});else if(n){var i=n.type||t.type;r=O(O(O({},n),t),{type:i})}else r=t}return r}var ze=function(t,e){if(!t)return[];var r=dt(t)?t:[t];return r.map(function(n){return Mt(n,e)})};function Sn(t){var e=Mt(t);return O(O({id:$(t)?t:e.id},e),{type:e.type})}function Qa(t,e){return{type:_t,event:typeof t=="function"?t:zr(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function eo(t,e,r,n){var i={_event:r},a=ce(V(t.event)?t.event(e,r.data,i):t.event),o;if($(t.delay)){var s=n&&n[t.delay];o=V(s)?s(e,r.data,i):s}else o=V(t.delay)?t.delay(e,r.data,i):t.delay;return O(O({},t),{type:_t,_event:a,delay:o})}function to(t,e){return{to:e?e.to:void 0,type:Lr,event:V(t)?t:zr(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:V(t)?t.name:Ii(t)}}function ro(t,e,r,n){var i={_event:r},a=ce(V(t.event)?t.event(e,r.data,i):t.event),o;if($(t.delay)){var s=n&&n[t.delay];o=V(s)?s(e,r.data,i):s}else o=V(t.delay)?t.delay(e,r.data,i):t.delay;var u=V(t.to)?t.to(e,r.data,i):t.to;return O(O({},t),{to:u,_event:a,event:a.data,delay:o})}var no=function(t,e,r){return O(O({},t),{value:$(t.expr)?t.expr:t.expr(e,r.data,{_event:r})})},io=function(t){return{type:Ci,sendId:t}};function ao(t){var e=Sn(t);return{type:G.Start,activity:e,exec:void 0}}function oo(t){var e=V(t)?t:Sn(t);return{type:G.Stop,activity:e,exec:void 0}}function so(t,e,r){var n=V(t.activity)?t.activity(e,r.data):t.activity,i=typeof n=="string"?{id:n}:n,a={type:G.Stop,activity:i};return a}var uo=function(t){return{type:bn,assignment:t}};function co(t,e){var r=e?"#".concat(e):"";return"".concat(G.After,"(").concat(t,")").concat(r)}function er(t,e){var r="".concat(G.DoneState,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}function gr(t,e){var r="".concat(G.DoneInvoke,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}function Tt(t,e){var r="".concat(G.ErrorPlatform,".").concat(t),n={type:r,data:e};return n.toString=function(){return r},n}var fo=function(t){var e,r,n=[];try{for(var i=z(t),a=i.next();!a.done;a=i.next())for(var o=a.value,s=0;s<o.actions.length;){if(o.actions[s].type===bn){n.push(o.actions[s]),o.actions.splice(s,1);continue}s++}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n};function Or(t,e,r,n,i,a,o){o===void 0&&(o=!1);var s=o?[]:fo(i),u=s.length?Kn(r,n,s,e):r,c=o?[r]:void 0,f=[];function l(g,m){var R;switch(m.type){case _t:{var x=eo(m,u,n,t.options.delays);return a&&typeof x.delay=="number"&&a(x,u,n),x}case Lr:var w=ro(m,u,n,t.options.delays);return a&&w.to!==ct.Internal&&(g==="entry"?f.push(w):a(w,u,n)),w;case Di:{var S=no(m,u,n);return a==null||a(S,u,n),S}case Va:{var C=m,A=(R=C.conds.find(function(Re){var ae=zi(Re.cond,t.options.guards);return!ae||Fi(t,ae,u,n,a?void 0:e)}))===null||R===void 0?void 0:R.actions;if(!A)return[];var p=M(Or(t,e,u,n,[{type:g,actions:ze(Ee(A),t.options.actions)}],a,o),2),y=p[0],E=p[1];return u=E,c==null||c.push(u),y}case Ba:{var A=m.get(u,n.data);if(!A)return[];var P=M(Or(t,e,u,n,[{type:g,actions:ze(Ee(A),t.options.actions)}],a,o),2),D=P[0],T=P[1];return u=T,c==null||c.push(u),D}case mn:{var S=so(m,u,n);return a==null||a(S,r,n),S}case bn:{u=Kn(u,n,[m],a?void 0:e),c==null||c.push(u);break}default:var k=Mt(m,t.options.actions),H=k.exec;if(a)a(k,u,n);else if(H&&c){var K=c.length-1,ee=O(O({},k),{exec:function(Re){for(var ae=[],Y=1;Y<arguments.length;Y++)ae[Y-1]=arguments[Y];H.apply(void 0,X([c[K]],M(ae),!1))}});k=ee}return k}}function d(g){var m,R,x=[];try{for(var w=z(g.actions),S=w.next();!S.done;S=w.next()){var C=S.value,A=l(g.type,C);A&&(x=x.concat(A))}}catch(p){m={error:p}}finally{try{S&&!S.done&&(R=w.return)&&R.call(w)}finally{if(m)throw m.error}}return f.forEach(function(p){a(p,u,n)}),f.length=0,x}var h=Q(i.map(d));return[h,u]}var it=function(t,e){var r=e(t);return r};function Vi(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Le]=function(){return this},e}function lo(t,e,r,n){var i,a=Mi(t.src),o=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[a.type],s=t.data?Er(t.data,r,n):void 0,u=o?Bi(o,t.id,s):Vi(t.id);return u.meta=t,u}function Bi(t,e,r){var n=Vi(e);if(n.deferred=!0,ft(t)){var i=n.state=it(void 0,function(){return(r?t.withContext(r):t).initialState});n.getSnapshot=function(){return i}}return n}function ho(t){try{return typeof t.send=="function"}catch{return!1}}function vo(t){return ho(t)&&"id"in t}function po(t){var e;return O((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Le]=function(){return this},e),t)}var Tr=function(t){return t.type==="atomic"||t.type==="final"};function _i(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Vt(t){return _i(t).filter(function(e){return e.type!=="history"})}function $i(t){var e=[t];return Tr(t)?e:e.concat(Q(Vt(t).map($i)))}function Rt(t,e){var r,n,i,a,o,s,u,c,f=new Set(t),l=on(f),d=new Set(e);try{for(var h=z(d),g=h.next();!g.done;g=h.next())for(var m=g.value,R=m.parent;R&&!d.has(R);)d.add(R),R=R.parent}catch(P){r={error:P}}finally{try{g&&!g.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}var x=on(d);try{for(var w=z(d),S=w.next();!S.done;S=w.next()){var m=S.value;if(m.type==="compound"&&(!x.get(m)||!x.get(m).length))l.get(m)?l.get(m).forEach(function(D){return d.add(D)}):m.initialStateNodes.forEach(function(D){return d.add(D)});else if(m.type==="parallel")try{for(var C=(o=void 0,z(Vt(m))),A=C.next();!A.done;A=C.next()){var p=A.value;d.has(p)||(d.add(p),l.get(p)?l.get(p).forEach(function(D){return d.add(D)}):p.initialStateNodes.forEach(function(D){return d.add(D)}))}}catch(D){o={error:D}}finally{try{A&&!A.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}}}catch(P){i={error:P}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var y=z(d),E=y.next();!E.done;E=y.next())for(var m=E.value,R=m.parent;R&&!d.has(R);)d.add(R),R=R.parent}catch(P){u={error:P}}finally{try{E&&!E.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}return d}function Hi(t,e){var r=e.get(t);if(!r)return{};if(t.type==="compound"){var n=r[0];if(n){if(Tr(n))return n.key}else return{}}var i={};return r.forEach(function(a){i[a.key]=Hi(a,e)}),i}function on(t){var e,r,n=new Map;try{for(var i=z(t),a=i.next();!a.done;a=i.next()){var o=a.value;n.has(o)||n.set(o,[]),o.parent&&(n.has(o.parent)||n.set(o.parent,[]),n.get(o.parent).push(o))}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}function yo(t,e){var r=Rt([t],e);return Hi(t,on(r))}function Pt(t,e){return Array.isArray(t)?t.some(function(r){return r===e}):t instanceof Set?t.has(e):!1}function go(t){return X([],M(new Set(Q(X([],M(t.map(function(e){return e.ownEvents})),!1)))),!1)}function mr(t,e){return e.type==="compound"?Vt(e).some(function(r){return r.type==="final"&&Pt(t,r)}):e.type==="parallel"?Vt(e).every(function(r){return mr(t,r)}):!1}function mo(t){return t===void 0&&(t=[]),t.reduce(function(e,r){return r.meta!==void 0&&(e[r.id]=r.meta),e},{})}function Wn(t){return new Set(Q(t.map(function(e){return e.tags})))}function Gi(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if($(t)||$(e))return t===e;var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(i){return Gi(t[i],e[i])})}function bo(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function wo(t,e){var r=t.exec,n=O(O({},t),{exec:r!==void 0?function(){return r(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return n}var be=function(){function t(e){var r=this,n;this.actions=[],this.activities=Gn,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Gn,this.meta=mo(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(n=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&n!==void 0?n:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return go(r.configuration)}})}return t.from=function(e,r){if(e instanceof t)return e.context!==r?new t({value:e.value,context:r,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var n=st;return new t({value:e,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,r){if(e instanceof t){if(!e.actions.length)return e;var n=st;return new t({value:e.value,context:r,_event:n,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,r)},t.prototype.toStrings=function(e,r){var n=this;if(e===void 0&&(e=this.value),r===void 0&&(r="."),$(e))return[e];var i=Object.keys(e);return i.concat.apply(i,X([],M(i.map(function(a){return n.toStrings(e[a],r).map(function(o){return a+r+o})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var r=e.tags;e.machine;var n=gn(e,["configuration","transitions","tags","machine"]);return O(O({},n),{tags:Array.from(r)})},t.prototype.matches=function(e){return wn(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var r;Xa(!!this.machine);var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,e);return!!(n!=null&&n.transitions.length)&&n.transitions.some(function(i){return i.target!==void 0||i.actions.length})},t}(),So={deferEvents:!1},Xn=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=O(O({},So),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},t}(),Gr=new Map,xo=0,bt={bookId:function(){return"x:".concat(xo++)},register:function(t,e){return Gr.set(t,e),t},get:function(t){return Gr.get(t)},free:function(t){Gr.delete(t)}};function xn(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Eo(){var t=xn();if(t&&"__xstate__"in t)return t.__xstate__}function Oo(t){if(xn()){var e=Eo();e&&e.register(t)}}function To(t,e){e===void 0&&(e={});var r=t.initialState,n=new Set,i=[],a=!1,o=function(){if(!a){for(a=!0;i.length>0;){var c=i.shift();r=t.transition(r,c,u),n.forEach(function(f){return f.next(r)})}a=!1}},s=po({id:e.id,send:function(c){i.push(c),o()},getSnapshot:function(){return r},subscribe:function(c,f,l){var d=yr(c,f,l);return n.add(d),d.next(r),{unsubscribe:function(){n.delete(d)}}}}),u={parent:e.parent,self:s,id:e.id||"anonymous",observers:n};return r=t.start?t.start(u):r,s}var Ro={sync:!1,autoForward:!1},se;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(se||(se={}));var Po=function(){function t(e,r){r===void 0&&(r=t.defaultOptions);var n=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=se.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(f,l){if(dt(f))return n.batch(f),n.state;var d=ce(zr(f,l));if(n.status===se.Stopped)return n.state;if(n.status!==se.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(d.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(d.data)));return n.scheduler.schedule(function(){n.forward(d);var h=n._nextState(d);n.update(h,d)}),n._state},this.sendTo=function(f,l,d){var h=n.parent&&(l===ct.Parent||n.parent.id===l),g=h?n.parent:$(l)?l===ct.Internal?n:n.children.get(l)||bt.get(l):Ja(l)?l:void 0;if(!g){if(!h)throw new Error("Unable to send event to child '".concat(l,"' from service '").concat(n.id,"'."));return}if("machine"in g){if(n.status!==se.Stopped||n.parent!==g||n.state.done){var m=O(O({},f),{name:f.name===Ma?"".concat(Tt(n.id)):f.name,origin:n.sessionId});!d&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([g,m]):g.send(m)}}else!d&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([g,f.data]):g.send(f.data)},this._exec=function(f,l,d,h){h===void 0&&(h=n.machine.options.actions);var g=f.exec||an(f.type,h),m=V(g)?g:g?g.exec:f.exec;if(m)try{return m(l,d.data,n.machine.config.predictableActionArguments?{action:f,_event:d}:{action:f,state:n.state,_event:d})}catch(K){throw n.parent&&n.parent.send({type:"xstate.error",data:K}),K}switch(f.type){case _t:{var R=f;n.defer(R);break}case Lr:var x=f;if(typeof x.delay=="number"){n.defer(x);return}else x.to?n.sendTo(x._event,x.to,d===st):n.send(x._event);break;case Ci:n.cancel(f.sendId);break;case Qr:{if(n.status!==se.Running)return;var w=f.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[w.id||w.type])break;if(w.type===G.Invoke){var S=Mi(w.src),C=n.machine.options.services?n.machine.options.services[S.type]:void 0,A=w.id,p=w.data,y="autoForward"in w?w.autoForward:!!w.forward;if(!C)return;var E=p?Er(p,l,d):void 0;if(typeof C=="string")return;var P=V(C)?C(l,d.data,{data:E,src:S,meta:w.meta}):C;if(!P)return;var D=void 0;ft(P)&&(P=E?P.withContext(E):P,D={autoForward:y}),n.spawn(P,A,D)}else n.spawnActivity(w);break}case mn:{n.stopChild(f.activity.id);break}case Di:var T=f,k=T.label,H=T.value;k?n.logger(k,H):n.logger(H);break}};var i=O(O({},t.defaultOptions),r),a=i.clock,o=i.logger,s=i.parent,u=i.id,c=u!==void 0?u:e.id;this.id=c,this.logger=o,this.clock=a,this.parent=s,this.options=i,this.scheduler=new Xn({deferEvents:this.options.deferEvents}),this.sessionId=bt.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:it(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,r){var n,i;try{for(var a=z(e.actions),o=a.next();!o.done;o=a.next()){var s=o.value;this.exec(s,e,r)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.update=function(e,r){var n,i,a,o,s,u,c,f,l=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||r===st)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(P){l.state.children[P.id]=P}),this.devTools&&this.devTools.send(r.data,e),e.event)try{for(var h=z(this.eventListeners),g=h.next();!g.done;g=h.next()){var m=g.value;m(e.event)}}catch(P){n={error:P}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var R=z(this.listeners),x=R.next();!x.done;x=R.next()){var m=x.value;m(e,e.event)}}catch(P){a={error:P}}finally{try{x&&!x.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}try{for(var w=z(this.contextListeners),S=w.next();!S.done;S=w.next()){var C=S.value;C(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(P){s={error:P}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}if(this.state.done){var A=e.configuration.find(function(P){return P.type==="final"&&P.parent===l.machine}),p=A&&A.doneData?Er(A.doneData,e.context,r):void 0;this._doneEvent=gr(this.id,p);try{for(var y=z(this.doneListeners),E=y.next();!E.done;E=y.next()){var m=E.value;m(this._doneEvent)}}catch(P){c={error:P}}finally{try{E&&!E.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}this._stop(),this._stopChildren(),bt.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===se.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,r,n){var i=this,a=yr(e,r,n);this.listeners.add(a.next),this.status!==se.NotStarted&&a.next(this.state);var o=function(){i.doneListeners.delete(o),i.stopListeners.delete(o),a.complete()};return this.status===se.Stopped?a.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){i.listeners.delete(a.next),i.doneListeners.delete(o),i.stopListeners.delete(o)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===se.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var r=this;if(this.status===se.Running)return this;this.machine._init(),bt.register(this.sessionId,this),this.initialized=!0,this.status=se.Running;var n=e===void 0?this.initialState:it(this,function(){return bo(e)?r.machine.resolveState(e):r.machine.resolveState(be.from(e,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,st)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){V(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,r,n,i,a,o,s,u,c,f;try{for(var l=z(this.listeners),d=l.next();!d.done;d=l.next()){var h=d.value;this.listeners.delete(h)}}catch(y){e={error:y}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}try{for(var g=z(this.stopListeners),m=g.next();!m.done;m=g.next()){var h=m.value;h(),this.stopListeners.delete(h)}}catch(y){n={error:y}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}try{for(var R=z(this.contextListeners),x=R.next();!x.done;x=R.next()){var h=x.value;this.contextListeners.delete(h)}}catch(y){a={error:y}}finally{try{x&&!x.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}try{for(var w=z(this.doneListeners),S=w.next();!S.done;S=w.next()){var h=S.value;this.doneListeners.delete(h)}}catch(y){s={error:y}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=se.Stopped,this._initialState=void 0;try{for(var C=z(Object.keys(this.delayedEventsMap)),A=C.next();!A.done;A=C.next()){var p=A.value;this.clock.clearTimeout(this.delayedEventsMap[p])}}catch(y){c={error:y}}finally{try{A&&!A.done&&(f=C.return)&&f.call(C)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new Xn({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,r=this.scheduler;return this._stop(),r.schedule(function(){var n;if(!(!((n=e._state)===null||n===void 0)&&n.done)){var i=ce({type:"xstate.stop"}),a=it(e,function(){var o=Q(X([],M(e.state.configuration),!1).sort(function(l,d){return d.order-l.order}).map(function(l){return ze(l.onExit,e.machine.options.actions)})),s=M(Or(e.machine,e.state,e.state.context,i,[{type:"exit",actions:o}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),u=s[0],c=s[1],f=new be({value:e.state.value,context:c,_event:i,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:u.filter(function(l){return!nn(l)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return f.changed=!0,f});e.update(a,i),e._stopChildren(),bt.free(e.sessionId)}}),this},t.prototype.batch=function(e){var r=this;if(!(this.status===se.NotStarted&&this.options.deferEvents)){if(this.status!==se.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,a,o=r.state,s=!1,u=[],c=function(h){var g=ce(h);r.forward(g),o=it(r,function(){return r.machine.transition(o,g,void 0,n||void 0)}),u.push.apply(u,X([],M(r.machine.config.predictableActionArguments?o.actions:o.actions.map(function(m){return wo(m,o)})),!1)),s=s||!!o.changed};try{for(var f=z(e),l=f.next();!l.done;l=f.next()){var d=l.value;c(d)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}o.changed=s,o.actions=u,r.update(o,ce(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,r){var n=this;r===void 0&&(r=!!this.machine.config.predictableActionArguments&&this._exec);var i=ce(e);if(i.name.indexOf(Hn)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(Hn)===0}))throw i.data.data;var a=it(this,function(){return n.machine.transition(n.state,i,void 0,r||void 0)});return a},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var r,n;try{for(var i=z(this.forwardTo),a=i.next();!a.done;a=i.next()){var o=a.value,s=this.children.get(o);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(e)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.defer=function(e){var r=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?r.sendTo(e._event,e.to,!0):r.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,r,n){n===void 0&&(n=this.machine.options.actions),this._exec(e,r.context,r._event,n)},t.prototype.removeChild=function(e){var r;this.children.delete(e),this.forwardTo.delete(e),(r=this.state)===null||r===void 0||delete r.children[e]},t.prototype.stopChild=function(e){var r=this.children.get(e);r&&(this.removeChild(e),V(r.stop)&&r.stop())},t.prototype.spawn=function(e,r,n){if(this.status!==se.Running)return Bi(e,r);if(Un(e))return this.spawnPromise(Promise.resolve(e),r);if(V(e))return this.spawnCallback(e,r);if(vo(e))return this.spawnActor(e,r);if(Ya(e))return this.spawnObservable(e,r);if(ft(e))return this.spawnMachine(e,O(O({},n),{id:r}));if(Ua(e))return this.spawnBehavior(e,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,r){var n=this;r===void 0&&(r={});var i=new t(e,O(O({},this.options),{parent:this,id:r.id||e.id})),a=O(O({},Ro),r);a.sync&&i.onTransition(function(s){n.send(ki,{state:s,id:i.id})});var o=i;return this.children.set(i.id,o),a.autoForward&&this.forwardTo.add(i.id),i.onDone(function(s){n.removeChild(i.id),n.send(ce(s,{origin:i.id}))}).start(),o},t.prototype.spawnBehavior=function(e,r){var n=To(e,{id:r,parent:this});return this.children.set(r,n),n},t.prototype.spawnPromise=function(e,r){var n,i=this,a=!1,o;e.then(function(u){a||(o=u,i.removeChild(r),i.send(ce(gr(r,u),{origin:r})))},function(u){if(!a){i.removeChild(r);var c=Tt(r,u);try{i.send(ce(c,{origin:r}))}catch{i.devTools&&i.devTools.send(c,i.state),i.machine.strict&&i.stop()}}});var s=(n={id:r,send:function(){},subscribe:function(u,c,f){var l=yr(u,c,f),d=!1;return e.then(function(h){d||(l.next(h),!d&&l.complete())},function(h){d||l.error(h)}),{unsubscribe:function(){return d=!0}}},stop:function(){a=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return o}},n[Le]=function(){return this},n);return this.children.set(r,s),s},t.prototype.spawnCallback=function(e,r){var n,i=this,a=!1,o=new Set,s=new Set,u,c=function(d){u=d,s.forEach(function(h){return h(d)}),!a&&i.send(ce(d,{origin:r}))},f;try{f=e(c,function(d){o.add(d)})}catch(d){this.send(Tt(r,d))}if(Un(f))return this.spawnPromise(f,r);var l=(n={id:r,send:function(d){return o.forEach(function(h){return h(d)})},subscribe:function(d){var h=yr(d);return s.add(h.next),{unsubscribe:function(){s.delete(h.next)}}},stop:function(){a=!0,V(f)&&f()},toJSON:function(){return{id:r}},getSnapshot:function(){return u}},n[Le]=function(){return this},n);return this.children.set(r,l),l},t.prototype.spawnObservable=function(e,r){var n,i=this,a,o=e.subscribe(function(u){a=u,i.send(ce(u,{origin:r}))},function(u){i.removeChild(r),i.send(ce(Tt(r,u),{origin:r}))},function(){i.removeChild(r),i.send(ce(gr(r),{origin:r}))}),s=(n={id:r,send:function(){},subscribe:function(u,c,f){return e.subscribe(u,c,f)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return a},toJSON:function(){return{id:r}}},n[Le]=function(){return this},n);return this.children.set(r,s),s},t.prototype.spawnActor=function(e,r){return this.children.set(r,e),e},t.prototype.spawnActivity=function(e){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(r){var n=r(this.state.context,e);this.spawnEffect(e.id,n)}},t.prototype.spawnEffect=function(e,r){var n;this.children.set(e,(n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},n[Le]=function(){return this},n))},t.prototype.attachDev=function(){var e=xn();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(O(O({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:O({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}Oo(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Le]=function(){return this},t.prototype.getSnapshot=function(){return this.status===se.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,r){return setTimeout(e,r)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=qi,t}();function qi(t,e){var r=new Po(t,e);return r}function Ao(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function tr(t){return O(O({type:en},t),{toJSON:function(){t.onDone,t.onError;var e=gn(t,["onDone","onError"]);return O(O({},e),{type:en,src:Ao(t.src)})}})}var rr="",sn="#",qr="*",et={},tt=function(t){return t[0]===sn},Co=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Do=function(){function t(e,r,n,i){n===void 0&&(n="context"in e?e.context:void 0);var a=this,o;this.config=e,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Co(),r),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Ni),this.id=this.config.id||X([this.machine.key],M(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ot(this.config.states,function(c,f){var l,d=new t(c,{},void 0,{parent:a,key:f});return Object.assign(a.idMap,O((l={},l[d.id]=d,l),d.idMap)),d}):et;var s=0;function u(c){var f,l;c.order=s++;try{for(var d=z(_i(c)),h=d.next();!h.done;h=d.next()){var g=h.value;u(g)}}catch(m){f={error:m}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(c){var f=c.event;return f===rr}):rr in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Ee(this.config.entry||this.config.onEntry).map(function(c){return Mt(c)}),this.onExit=Ee(this.config.exit||this.config.onExit).map(function(c){return Mt(c)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Ee(this.config.invoke).map(function(c,f){var l,d;if(ft(c)){var h=Qt(a.id,f);return a.machine.options.services=O((l={},l[h]=c,l),a.machine.options.services),tr({src:h,id:h})}else if($(c.src)){var h=c.id||Qt(a.id,f);return tr(O(O({},c),{id:h,src:c.src}))}else if(ft(c.src)||V(c.src)){var h=c.id||Qt(a.id,f);return a.machine.options.services=O((d={},d[h]=c.src,d),a.machine.options.services),tr(O(O({id:h},c),{src:h}))}else{var g=c.src;return tr(O(O({id:Qt(a.id,f)},c),{src:g}))}}),this.activities=Ee(this.config.activities).concat(this.invoke).map(function(c){return Sn(c)}),this.transition=this.transition.bind(this),this.tags=Ee(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||$i(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,r){var n=this.options,i=n.actions,a=n.activities,o=n.guards,s=n.services,u=n.delays;return new t(this.config,{actions:O(O({},i),e.actions),activities:O(O({},a),e.activities),guards:O(O({},o),e.guards),services:O(O({},s),e.services),delays:O(O({},u),e.delays)},r??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return V(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ot(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var r=e===rr,n=this.transitions.filter(function(i){var a=i.eventType===e;return r?a:a||i.eventType===qr});return this.__cache.candidates[e]=n,n},t.prototype.getDelayedTransitions=function(){var e=this,r=this.config.after;if(!r)return[];var n=function(a,o){var s=V(a)?"".concat(e.id,":delay[").concat(o,"]"):a,u=co(s,e.id);return e.onEntry.push(to(u,{delay:a})),e.onExit.push(io(u)),u},i=dt(r)?r.map(function(a,o){var s=n(a.delay,o);return O(O({},a),{event:s})}):Q(Object.keys(r).map(function(a,o){var s=r[a],u=$(s)?{target:s}:s,c=isNaN(+a)?a:+a,f=n(c,o);return Ee(u).map(function(l){return O(O({},l),{event:f,delay:c})})}));return i.map(function(a){var o=a.delay;return O(O({},e.formatTransition(a)),{delay:o})})},t.prototype.getStateNodes=function(e){var r,n=this;if(!e)return[];var i=e instanceof be?e.value:At(e,this.delimiter);if($(i)){var a=this.getStateNode(i).initial;return a!==void 0?this.getStateNodes((r={},r[i]=a,r)):[this,this.states[i]]}var o=Object.keys(i),s=[this];return s.push.apply(s,X([],M(Q(o.map(function(u){return n.getStateNode(u).getStateNodes(i[u])}))),!1)),s},t.prototype.handles=function(e){var r=Ii(e);return this.events.includes(r)},t.prototype.resolveState=function(e){var r=e instanceof be?e:be.create(e),n=Array.from(Rt([],this.getStateNodes(r.value)));return new be(O(O({},r),{value:this.resolve(r.value),configuration:n,done:mr(n,this),tags:Wn(n),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,r,n){var i=this.getStateNode(e),a=i.next(r,n);return!a||!a.transitions.length?this.next(r,n):a},t.prototype.transitionCompoundNode=function(e,r,n){var i=Object.keys(e),a=this.getStateNode(i[0]),o=a._transition(e[i[0]],r,n);return!o||!o.transitions.length?this.next(r,n):o},t.prototype.transitionParallelNode=function(e,r,n){var i,a,o={};try{for(var s=z(Object.keys(e)),u=s.next();!u.done;u=s.next()){var c=u.value,f=e[c];if(f){var l=this.getStateNode(c),d=l._transition(f,r,n);d&&(o[c]=d)}}}catch(x){i={error:x}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}var h=Object.keys(o).map(function(x){return o[x]}),g=Q(h.map(function(x){return x.transitions})),m=h.some(function(x){return x.transitions.length>0});if(!m)return this.next(r,n);var R=Q(Object.keys(o).map(function(x){return o[x].configuration}));return{transitions:g,exitSet:Q(h.map(function(x){return x.exitSet})),configuration:R,source:r,actions:Q(Object.keys(o).map(function(x){return o[x].actions}))}},t.prototype._transition=function(e,r,n){return $(e)?this.transitionLeafNode(e,r,n):Object.keys(e).length===1?this.transitionCompoundNode(e,r,n):this.transitionParallelNode(e,r,n)},t.prototype.getTransitionData=function(e,r){return this._transition(e.value,e,ce(r))},t.prototype.next=function(e,r){var n,i,a=this,o=r.name,s=[],u=[],c;try{for(var f=z(this.getCandidates(o)),l=f.next();!l.done;l=f.next()){var d=l.value,h=d.cond,g=d.in,m=e.context,R=g?$(g)&&tt(g)?e.matches(At(this.getStateNodeById(g).path,this.delimiter)):wn(At(g,this.delimiter),Ha(this.path.slice(0,-2))(e.value)):!0,x=!1;try{x=!h||Fi(this.machine,h,m,r,e)}catch(C){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(C.message))}if(x&&R){d.target!==void 0&&(u=d.target),s.push.apply(s,X([],M(d.actions),!1)),c=d;break}}}catch(C){n={error:C}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}if(c){if(!u.length)return{transitions:[c],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var w=Q(u.map(function(C){return a.getRelativeStateNodes(C,e.historyValue)})),S=!!c.internal;return{transitions:[c],exitSet:S?[]:Q(u.map(function(C){return a.getPotentiallyReenteringNodes(C)})),configuration:w,source:e,actions:s}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var r=[],n=this,i=e;n&&n!==i;)r.push(n),n=n.parent;return n!==i?[]:(r.push(i),r)},t.prototype.getActions=function(e,r,n,i,a,o,s){var u,c,f,l,d=this,h=o?Rt([],this.getStateNodes(o.value)):[],g=new Set;try{for(var m=z(Array.from(e).sort(function(T,k){return T.order-k.order})),R=m.next();!R.done;R=m.next()){var x=R.value;(!Pt(h,x)||Pt(n.exitSet,x)||x.parent&&g.has(x.parent))&&g.add(x)}}catch(T){u={error:T}}finally{try{R&&!R.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}try{for(var w=z(h),S=w.next();!S.done;S=w.next()){var x=S.value;(!Pt(e,x)||Pt(n.exitSet,x.parent))&&n.exitSet.push(x)}}catch(T){f={error:T}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(f)throw f.error}}n.exitSet.sort(function(T,k){return k.order-T.order});var C=Array.from(g).sort(function(T,k){return T.order-k.order}),A=new Set(n.exitSet),p=Q(C.map(function(T){var k=[];if(T.type!=="final")return k;var H=T.parent;if(!H.parent)return k;k.push(er(T.id,T.doneData),er(H.id,T.doneData?Er(T.doneData,i,a):void 0));var K=H.parent;return K.type==="parallel"&&Vt(K).every(function(ee){return mr(n.configuration,ee)})&&k.push(er(K.id)),k})),y=C.map(function(T){var k=T.onEntry,H=T.activities.map(function(K){return ao(K)});return{type:"entry",actions:ze(s?X(X([],M(k),!1),M(H),!1):X(X([],M(H),!1),M(k),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:p.map(function(T){return Qa(T)})}),E=Array.from(A).map(function(T){return{type:"exit",actions:ze(X(X([],M(T.onExit),!1),M(T.activities.map(function(k){return oo(k)})),!1),d.machine.options.actions)}}),P=E.concat({type:"transition",actions:ze(n.actions,this.machine.options.actions)}).concat(y);if(r){var D=ze(Q(X([],M(e),!1).sort(function(T,k){return k.order-T.order}).map(function(T){return T.onExit})),this.machine.options.actions).filter(function(T){return!nn(T)});return P.concat({type:"stop",actions:D})}return P},t.prototype.transition=function(e,r,n,i){e===void 0&&(e=this.initialState);var a=ce(r),o;if(e instanceof be)o=n===void 0?e:this.resolveState(be.from(e,n));else{var s=$(e)?this.resolve(xr(this.getResolvedPath(e))):this.resolve(e),u=n??this.machine.context;o=this.resolveState(be.from(s,u))}if(this.strict&&!this.events.includes(a.name)&&!qa(a.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var c=this._transition(o.value,o,a)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},f=Rt([],this.getStateNodes(o.value)),l=c.configuration.length?Rt(f,c.configuration):f;return c.configuration=X([],M(l),!1),this.resolveTransition(c,o,o.context,i,a)},t.prototype.resolveRaisedTransition=function(e,r,n,i){var a,o=e.actions;return e=this.transition(e,r,void 0,i),e._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,X([],M(o),!1)),e},t.prototype.resolveTransition=function(e,r,n,i,a){var o,s,u,c,f=this;a===void 0&&(a=st);var l=e.configuration,d=!r||e.transitions.length>0,h=d?e.configuration:r?r.configuration:[],g=mr(h,this),m=d?yo(this.machine,l):void 0,R=r?r.historyValue?r.historyValue:e.source?this.machine.historyValue(r.value):void 0:void 0,x=this.getActions(new Set(h),g,e,n,a,r,i),w=r?O({},r.activities):{};try{for(var S=z(x),C=S.next();!C.done;C=S.next()){var A=C.value;try{for(var p=(u=void 0,z(A.actions)),y=p.next();!y.done;y=p.next()){var E=y.value;E.type===Qr?w[E.activity.id||E.activity.type]=E:E.type===mn&&(w[E.activity.id||E.activity.type]=!1)}}catch(de){u={error:de}}finally{try{y&&!y.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}}}catch(de){o={error:de}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}var P=M(Or(this,r,n,a,x,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),D=P[0],T=P[1],k=M(Ka(D,nn),2),H=k[0],K=k[1],ee=D.filter(function(de){var Pe;return de.type===Qr&&((Pe=de.activity)===null||Pe===void 0?void 0:Pe.type)===en}),Re=ee.reduce(function(de,Pe){return de[Pe.activity.id]=lo(Pe.activity,f.machine,T,a),de},r?O({},r.children):{}),ae=new be({value:m||r.value,context:T,_event:a,_sessionid:r?r._sessionid:null,historyValue:m?R?Wa(R,m):void 0:r?r.historyValue:void 0,history:!m||e.source?r:void 0,actions:m?K:[],activities:m?w:r?r.activities:{},events:[],configuration:h,transitions:e.transitions,children:Re,done:g,tags:Wn(h),machine:this}),Y=n!==T;ae.changed=a.name===ki||Y;var oe=ae.history;oe&&delete oe.history;var re=!g&&(this._transient||l.some(function(de){return de._transient}));if(!d&&(!re||a.name===rr))return ae;var te=ae;if(!g)for(re&&(te=this.resolveRaisedTransition(te,{type:za},a,i));H.length;){var q=H.shift();te=this.resolveRaisedTransition(te,q._event,a,i)}var Ve=te.changed||(oe?!!te.actions.length||Y||typeof oe.value!=typeof te.value||!Gi(te.value,oe.value):void 0);return te.changed=Ve,te.history=oe,te},t.prototype.getStateNode=function(e){if(tt(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[e];if(!r)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return r},t.prototype.getStateNodeById=function(e){var r=tt(e)?e.slice(sn.length):e;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&tt(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var r=rn(e,this.delimiter).slice(),n=this;r.length;){var i=r.shift();if(!i.length)break;n=n.getStateNode(i)}return n},t.prototype.resolve=function(e){var r,n=this;if(!e)return this.initialStateValue||et;switch(this.type){case"parallel":return Ot(this.initialStateValue,function(a,o){return a?n.getStateNode(o).resolve(e[o]||a):et});case"compound":if($(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(r={},r[e]=i.initialStateValue,r):e}return Object.keys(e).length?Ot(e,function(a,o){return a?n.getStateNode(o).resolve(a):et}):this.initialStateValue||{};default:return e||et}},t.prototype.getResolvedPath=function(e){if(tt(e)){var r=this.machine.idMap[e.slice(sn.length)];if(!r)throw new Error("Unable to find state node '".concat(e,"'"));return r.path}return rn(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=qn(this.states,function(n){return n.initialStateValue||et},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=Tr(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,r){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var r=this.config;$(r.target)?e=tt(r.target)?xr(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:e=r.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,r,n){return n===void 0&&(n=!0),n?e.type==="history"?e.resolveHistory(r):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(Tr(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var r=pr(this.initialStateValue);return Q(r.map(function(n){return e.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var r=M(e),n=r[0],i=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if(a.type==="history")return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:qn(this.states,function(r,n){if(!e)return r.historyValue();var i=$(e)?void 0:e[n];return r.historyValue(i||r.initialStateValue)},function(r){return!r.history})}},t.prototype.resolveHistory=function(e){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!e){var i=this.target;return i?Q(pr(i).map(function(o){return n.getFromRelativePath(o)})):n.initialStateNodes}var a=Ga(n.path,"states")(e).current;return $(a)?[n.getStateNode(a)]:Q(pr(a).map(function(o){return r.history==="deep"?n.getFromRelativePath(o):[n.states[o[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,r=Q(Object.keys(this.states).map(function(n){return e.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,r,n,i;if(this.__cache.events)return this.__cache.events;var a=this.states,o=new Set(this.ownEvents);if(a)try{for(var s=z(Object.keys(a)),u=s.next();!u.done;u=s.next()){var c=u.value,f=a[c];if(f.states)try{for(var l=(n=void 0,z(f.events)),d=l.next();!d.done;d=l.next()){var h=d.value;o.add("".concat(h))}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var r=this;if(e!==void 0)return e.map(function(n){if(!$(n))return n;var i=n[0]===r.delimiter;if(i&&!r.parent)return r.getStateNodeByPath(n.slice(1));var a=i?r.key+n:n;if(r.parent)try{var o=r.parent.getStateNodeByPath(a);return o}catch(s){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(s.message))}else return r.getStateNodeByPath(a)})},t.prototype.formatTransition=function(e){var r=this,n=Za(e.target),i="internal"in e?e.internal:n?n.some(function(u){return $(u)&&u[0]===r.delimiter}):!0,a=this.machine.options.guards,o=this.resolveTarget(n),s=O(O({},e),{actions:ze(Ee(e.actions)),cond:zi(e.cond,a),target:o,source:this,internal:i,eventType:e.event,toJSON:function(){return O(O({},s),{target:s.target?s.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(r.id)})}});return s},t.prototype.formatTransitions=function(){var e,r,n=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var a=this.config.on,o=qr,s=a[o],u=s===void 0?[]:s,c=gn(a,[typeof o=="symbol"?o:o+""]);i=Q(Object.keys(c).map(function(w){var S=Qe(w,c[w]);return S}).concat(Qe(qr,u)))}var f=this.config.always?Qe("",this.config.always):[],l=this.config.onDone?Qe(String(er(this.id)),this.config.onDone):[],d=Q(this.invoke.map(function(w){var S=[];return w.onDone&&S.push.apply(S,X([],M(Qe(String(gr(w.id)),w.onDone)),!1)),w.onError&&S.push.apply(S,X([],M(Qe(String(Tt(w.id)),w.onError)),!1)),S})),h=this.after,g=Q(X(X(X(X([],M(l),!1),M(d),!1),M(i),!1),M(f),!1).map(function(w){return Ee(w).map(function(S){return n.formatTransition(S)})}));try{for(var m=z(h),R=m.next();!R.done;R=m.next()){var x=R.value;g.push(x)}}catch(w){e={error:w}}finally{try{R&&!R.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}return g},t}();function ko(t,e,r){return r===void 0&&(r=t.context),new Do(t,e,r)}var No=uo,un;(function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"})(un||(un={}));var Ct=v.useLayoutEffect;function Yn(t){var e=v.useRef();return e.current||(e.current={v:t()}),e.current.v}var Io=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},jo=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Lo(t,e){var r,n,i=Io([[],[]],2),a=i[0],o=i[1];try{for(var s=jo(t),u=s.next();!u.done;u=s.next()){var c=u.value;e(c)?a.push(c):o.push(c)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return[a,o]}var wt=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Jn=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};function Zn(t,e){var r=t.exec,n=r(e.context,e._event.data,{action:t,state:e,_event:e._event});n()}function zo(t){var e=v.useRef([]),r=v.useRef([]);Ct(function(){var n=t.subscribe(function(i){var a,o;if(i.actions.length){var s=i.actions.filter(function(l){return typeof l.exec=="function"&&"__effect"in l.exec}),u=wt(Lo(s,function(l){return l.exec.__effect===un.Effect}),2),c=u[0],f=u[1];(a=e.current).push.apply(a,Jn([],wt(c.map(function(l){return[l,i]})),!1)),(o=r.current).push.apply(o,Jn([],wt(f.map(function(l){return[l,i]})),!1))}});return function(){n.unsubscribe()}},[]),Ct(function(){for(;r.current.length;){var n=wt(r.current.shift(),2),i=n[0],a=n[1];Zn(i,a)}}),v.useEffect(function(){for(;e.current.length;){var n=wt(e.current.shift(),2),i=n[0],a=n[1];Zn(i,a)}})}var Dt=function(){return Dt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dt.apply(this,arguments)},Fo=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Mo(t,e,r){if(typeof t=="object")return t;var n=function(){};return{next:t,error:e||n,complete:r||n}}function Vo(t,e,r){e===void 0&&(e={});var n=Yn(function(){return typeof t=="function"?t():t}),i=e.context,a=e.guards,o=e.actions,s=e.activities,u=e.services,c=e.delays,f=e.state,l=Fo(e,["context","guards","actions","activities","services","delays","state"]),d=Yn(function(){var h={context:i,guards:a,actions:o,activities:s,services:u,delays:c},g=n.withConfig(h,function(){return Dt(Dt({},n.context),i)});return qi(g,Dt({deferEvents:!0},l))});return Ct(function(){var h;return r&&(h=d.subscribe(Mo(r))),function(){h==null||h.unsubscribe()}},[r]),Ct(function(){return d.start(f?be.create(f):void 0),function(){d.stop()}},[]),Ct(function(){Object.assign(d.machine.options.actions,o),Object.assign(d.machine.options.guards,a),Object.assign(d.machine.options.activities,s),Object.assign(d.machine.options.services,u),Object.assign(d.machine.options.delays,c)},[o,a,s,u,c]),zo(d),d}var Bo=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};function _o(t,e){e===void 0&&(e={});var r=v.useCallback(function(s){var u=s.changed===void 0&&Object.keys(s.children).length;(s.changed||u)&&o(s)},[]),n=Vo(t,e,r),i=Bo(v.useState(function(){var s=n.machine.initialState;return e.state?be.create(e.state):s}),2),a=i[0],o=i[1];return[a,n.send,n]}const L={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(L.str(t)||L.num(t))return t===e;if(L.obj(t)&&L.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let r;for(r in t)if(!(r in e))return!1;for(r in e)if(t[r]!==e[r])return!1;return L.und(r)?t===e:!0}};function $o(t,e){return r=>(L.arr(r)?r:Object.keys(r)).reduce((n,i)=>{const a=i;return n[a]=t(a),n},t)}function Ho(){const t=v.useState(!1),e=t[1];return v.useCallback(()=>e(n=>!n),[])}function _e(t,e){return L.und(t)||L.nul(t)?e:t}function nr(t){return L.und(t)?[]:L.arr(t)?t:[t]}function at(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return L.fun(t)?t(...r):t}function Go(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,ot(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function Ur(t){const e=Go(t);if(L.und(e))return ie({to:e},t);const r=Object.keys(t).reduce((n,i)=>L.und(e[i])?ie({},n,{[i]:t[i]}):n,{});return ie({to:e},r)}function qo(t,e){return e&&(L.fun(e)?e(t):L.obj(e)&&(e.current=t)),t}class Oe{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const r=this.children.indexOf(e);this.children.splice(r,1),this.children.length===0&&this.detach()}}class cn extends Oe{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof Oe&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof Oe&&e.removeChild(this))}}class Ui extends Oe{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof Oe&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof Oe&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const r={};for(const n in this.payload){const i=this.payload[n];e&&!(i instanceof Oe)||(r[n]=i instanceof Oe?i[e?"getAnimatedValue":"getValue"]():i)}return r}getAnimatedValue(){return this.getValue(!0)}}let En;function Uo(t,e){En={fn:t,transform:e}}let Ki;function Ko(t){Ki=t}let Wi=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,Rr;function Wo(t){Rr=t}let Xi=()=>Date.now(),Xo=t=>t.current,Yi;function Yo(t){Yi=t}class Jo extends Ui{constructor(e,r){super(),this.update=void 0,this.payload=e.style?ie({},e,{style:Yi(e.style)}):e,this.update=r,this.attach()}}const Zo=t=>L.fun(t)&&!(t.prototype instanceof ye.Component),Qo=t=>v.forwardRef((r,n)=>{const i=Ho(),a=v.useRef(!0),o=v.useRef(null),s=v.useRef(null),u=v.useCallback(d=>{const h=o.current,g=()=>{let m=!1;s.current&&(m=En.fn(s.current,o.current.getAnimatedValue())),(!s.current||m===!1)&&i()};o.current=new Jo(d,g),h&&h.detach()},[]);v.useEffect(()=>()=>{a.current=!1,o.current&&o.current.detach()},[]),v.useImperativeHandle(n,()=>Xo(s)),u(r);const c=o.current.getValue();c.scrollTop,c.scrollLeft;const f=ot(c,["scrollTop","scrollLeft"]),l=Zo(t)?void 0:d=>s.current=qo(d,n);return ye.createElement(t,ie({},f,{ref:l}))});let kt=!1;const He=new Set,Ji=()=>{if(!kt)return!1;let t=Xi();for(let e of He){let r=!1;for(let n=0;n<e.configs.length;n++){let i=e.configs[n],a,o;for(let s=0;s<i.animatedValues.length;s++){let u=i.animatedValues[s];if(u.done)continue;let c=i.fromValues[s],f=i.toValues[s],l=u.lastPosition,d=f instanceof Oe,h=Array.isArray(i.initialVelocity)?i.initialVelocity[s]:i.initialVelocity;if(d&&(f=f.getValue()),i.immediate){u.setValue(f),u.done=!0;continue}if(typeof c=="string"||typeof f=="string"){u.setValue(f),u.done=!0;continue}if(i.duration!==void 0)l=c+i.easing((t-u.startTime)/i.duration)*(f-c),a=t>=u.startTime+i.duration;else if(i.decay)l=c+h/(1-.998)*(1-Math.exp(-(1-.998)*(t-u.startTime))),a=Math.abs(u.lastPosition-l)<.1,a&&(f=l);else{o=u.lastTime!==void 0?u.lastTime:t,h=u.lastVelocity!==void 0?u.lastVelocity:i.initialVelocity,t>o+64&&(o=t);let g=Math.floor(t-o);for(let w=0;w<g;++w){let S=-i.tension*(l-f),C=-i.friction*h,A=(S+C)/i.mass;h=h+A*1/1e3,l=l+h*1/1e3}let m=i.clamp&&i.tension!==0?c<f?l>f:l<f:!1,R=Math.abs(h)<=i.precision,x=i.tension!==0?Math.abs(f-l)<=i.precision:!0;a=m||R&&x,u.lastVelocity=h,u.lastTime=t}d&&!i.toValues[s].done&&(a=!1),a?(u.value!==f&&(l=f),u.done=!0):r=!0,u.setValue(l),u.lastPosition=l}e.props.onFrame&&(e.values[i.name]=i.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),r||(He.delete(e),e.stop(!0))}return He.size?Wi(Ji):kt=!1,kt},es=t=>{He.has(t)||He.add(t),kt||(kt=!0,Wi(Ji))},ts=t=>{He.has(t)&&He.delete(t)};function Pr(t,e,r){if(typeof t=="function")return t;if(Array.isArray(t))return Pr({range:t,output:e,extrapolate:r});if(Rr&&typeof t.output[0]=="string")return Rr(t);const n=t,i=n.output,a=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",u=n.easing||(c=>c);return c=>{const f=ns(c,a);return rs(c,a[f],a[f+1],i[f],i[f+1],u,o,s,n.map)}}function rs(t,e,r,n,i,a,o,s,u){let c=u?u(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>r){if(s==="identity")return c;s==="clamp"&&(c=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?c=-c:r===1/0?c=c-e:c=(c-e)/(r-e),c=a(c),n===-1/0?c=-c:i===1/0?c=c+n:c=c*(i-n)+n,c)}function ns(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}class lt extends cn{constructor(e,r,n,i){super(),this.calc=void 0,this.payload=e instanceof cn&&!(e instanceof lt)?e.getPayload():Array.isArray(e)?e:[e],this.calc=Pr(r,n,i)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,r,n){this.calc=Pr(e,r,n)}interpolate(e,r,n){return new lt(this,e,r,n)}}const rt=(t,e,r)=>t&&new lt(t,e,r),is={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function Zi(t,e){"update"in t?e.add(t):t.getChildren().forEach(r=>Zi(r,e))}class fn extends Oe{constructor(e){var r;super(),r=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(n,i){i===void 0&&(i=!0),r.value=n,i&&r.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&Zi(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,r,n){return new lt(this,e,r,n)}}class as extends cn{constructor(e){super(),this.payload=e.map(r=>new fn(r))}setValue(e,r){r===void 0&&(r=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((n,i)=>this.payload[i].setValue(n,r)):this.payload.forEach(n=>n.setValue(e,r))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,r){return new lt(this,e,r)}}let os=0,ss=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=os++}update(e){if(!e)return this;const r=Ur(e),n=r.delay,i=n===void 0?0:n,a=r.to,o=ot(r,["delay","to"]);if(L.arr(a)||L.fun(a))this.queue.push(ie({},o,{delay:i,to:a}));else if(a){let s={};Object.entries(a).forEach(u=>{let c=u[0],f=u[1];const l=ie({to:{[c]:f},delay:at(i,c)},o),d=s[l.delay]&&s[l.delay].to;s[l.delay]=ie({},s[l.delay],l,{to:ie({},d,l.to)})}),this.queue=Object.values(s)}return this.queue=this.queue.sort((s,u)=>s.delay-u.delay),this.diff(o),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let a=i.from,o=a===void 0?{}:a,s=i.to,u=s===void 0?{}:s;L.obj(o)&&(this.merged=ie({},o,this.merged)),L.obj(u)&&(this.merged=ie({},this.merged,u))});const r=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach((i,a)=>{let o=i.delay,s=ot(i,["delay"]);const u=f=>{a===n.length-1&&r===this.guid&&f&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let c=L.arr(s.to)||L.fun(s.to);o?setTimeout(()=>{r===this.guid&&(c?this.runAsync(s,u):this.diff(s).start(u))},o):c?this.runAsync(s,u):this.diff(s).start(u)})}else L.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),es(this);return this}stop(e){return this.listeners.forEach(r=>r(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&ts(this),this}runAsync(e,r){var n=this;e.delay;let i=ot(e,["delay"]);const a=this.local;let o=Promise.resolve(void 0);if(L.arr(i.to))for(let s=0;s<i.to.length;s++){const u=s,c=ie({},i,Ur(i.to[u]));L.arr(c.config)&&(c.config=c.config[u]),o=o.then(()=>{if(a===this.guid)return new Promise(f=>this.diff(c).start(f))})}else if(L.fun(i.to)){let s=0,u;o=o.then(()=>i.to(c=>{const f=ie({},i,Ur(c));if(L.arr(f.config)&&(f.config=f.config[s]),s++,a===this.guid)return u=new Promise(l=>this.diff(f).start(l))},function(c){return c===void 0&&(c=!0),n.stop(c)}).then(()=>u))}o.then(r)}diff(e){this.props=ie({},this.props,e);let r=this.props,n=r.from,i=n===void 0?{}:n,a=r.to,o=a===void 0?{}:a,s=r.config,u=s===void 0?{}:s,c=r.reverse,f=r.attach,l=r.reset,d=r.immediate;if(c){var h=[o,i];i=h[0],o=h[1]}this.merged=ie({},i,this.merged,o),this.hasChanged=!1;let g=f&&f(this);if(this.animations=Object.entries(this.merged).reduce((m,R)=>{let x=R[0],w=R[1],S=m[x]||{};const C=L.num(w),A=L.str(w)&&!w.startsWith("#")&&!/\d/.test(w)&&!Ki[w],p=L.arr(w),y=!C&&!p&&!A;let E=L.und(i[x])?w:i[x],P=C||p||A?w:1,D=at(u,x);g&&(P=g.animations[x].parent);let T=S.parent,k=S.interpolation,H=nr(g?P.getPayload():P),K,ee=w;y&&(ee=Rr({range:[0,1],output:[w,w]})(1));let Re=k&&k.getValue();const Y=!L.und(T)&&S.animatedValues.some(q=>!q.done),oe=!L.equ(ee,Re),re=!L.equ(ee,S.previous),te=!L.equ(D,S.config);if(l||re&&oe||te){if(C||A)T=k=S.parent||new fn(E);else if(p)T=k=S.parent||new as(E);else if(y){let q=S.interpolation&&S.interpolation.calc(S.parent.value);q=q!==void 0&&!l?q:E,S.parent?(T=S.parent,T.setValue(0,!1)):T=new fn(0);const Ve={output:[q,w]};S.interpolation?(k=S.interpolation,S.interpolation.updateConfig(Ve)):k=T.interpolate(Ve)}return H=nr(g?P.getPayload():P),K=nr(T.getPayload()),l&&!y&&T.setValue(E,!1),this.hasChanged=!0,K.forEach(q=>{q.startPosition=q.value,q.lastPosition=q.value,q.lastVelocity=Y?q.lastVelocity:void 0,q.lastTime=Y?q.lastTime:void 0,q.startTime=Xi(),q.done=!1,q.animatedStyles.clear()}),at(d,x)&&T.setValue(y?P:w,!1),ie({},m,{[x]:ie({},S,{name:x,parent:T,interpolation:k,animatedValues:K,toValues:H,previous:ee,config:D,fromValues:nr(T.getValue()),immediate:at(d,x),initialVelocity:_e(D.velocity,0),clamp:_e(D.clamp,!1),precision:_e(D.precision,.01),tension:_e(D.tension,170),friction:_e(D.friction,26),mass:_e(D.mass,1),duration:D.duration,easing:_e(D.easing,q=>q),decay:D.decay})})}else return oe?m:(y&&(T.setValue(1,!1),k.updateConfig({output:[ee,ee]})),T.done=!0,this.hasChanged=!0,ie({},m,{[x]:ie({},m[x],{previous:ee})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let m in this.animations)this.interpolations[m]=this.animations[m].interpolation,this.values[m]=this.animations[m].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const us=(t,e)=>{const r=v.useRef(!1),n=v.useRef(),i=L.fun(e),a=v.useMemo(()=>{n.current&&(n.current.map(l=>l.destroy()),n.current=void 0);let f;return[new Array(t).fill().map((l,d)=>{const h=new ss,g=i?at(e,d,h):e[d];return d===0&&(f=g.ref),h.update(g),f||h.start(),h}),f]},[t]),o=a[0],s=a[1];n.current=o,v.useImperativeHandle(s,()=>({start:()=>Promise.all(n.current.map(f=>new Promise(l=>f.start(l)))),stop:f=>n.current.forEach(l=>l.stop(f)),get controllers(){return n.current}}));const u=v.useMemo(()=>f=>n.current.map((l,d)=>{l.update(i?at(f,d,l):f[d]),s||l.start()}),[t]);v.useEffect(()=>{r.current?i||u(e):s||n.current.forEach(f=>f.start())}),v.useEffect(()=>(r.current=!0,()=>n.current.forEach(f=>f.destroy())),[]);const c=n.current.map(f=>f.getValues());return i?[c,u,f=>n.current.forEach(l=>l.pause(f))]:c},cs=t=>{const e=L.fun(t),r=us(1,e?t:[t]),n=r[0],i=r[1],a=r[2];return e?[n[0],i,a]:n};class fs extends Ui{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof Oe)&&(e=En.transform(e)),this.payload=e}}const Ar={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Te="[-+]?\\d*\\.?\\d+",Cr=Te+"%";function Fr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const ls=new RegExp("rgb"+Fr(Te,Te,Te)),ds=new RegExp("rgba"+Fr(Te,Te,Te,Te)),hs=new RegExp("hsl"+Fr(Te,Cr,Cr)),vs=new RegExp("hsla"+Fr(Te,Cr,Cr,Te)),ps=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ys=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gs=/^#([0-9a-fA-F]{6})$/,ms=/^#([0-9a-fA-F]{8})$/;function bs(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=gs.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ar.hasOwnProperty(t)?Ar[t]:(e=ls.exec(t))?(nt(e[1])<<24|nt(e[2])<<16|nt(e[3])<<8|255)>>>0:(e=ds.exec(t))?(nt(e[1])<<24|nt(e[2])<<16|nt(e[3])<<8|ti(e[4]))>>>0:(e=ps.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ms.exec(t))?parseInt(e[1],16)>>>0:(e=ys.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=hs.exec(t))?(Qn(ei(e[1]),ir(e[2]),ir(e[3]))|255)>>>0:(e=vs.exec(t))?(Qn(ei(e[1]),ir(e[2]),ir(e[3]))|ti(e[4]))>>>0:null}function Kr(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Qn(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,a=Kr(i,n,t+1/3),o=Kr(i,n,t),s=Kr(i,n,t-1/3);return Math.round(a*255)<<24|Math.round(o*255)<<16|Math.round(s*255)<<8}function nt(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function ei(t){return(parseFloat(t)%360+360)%360/360}function ti(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function ir(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function ri(t){let e=bs(t);if(e===null)return t;e=e||0;let r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}const ar=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ws=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ss=new RegExp(`(${Object.keys(Ar).join("|")})`,"g"),xs=t=>{const e=t.output.map(i=>i.replace(ws,ri)).map(i=>i.replace(Ss,ri)),r=e[0].match(ar).map(()=>[]);e.forEach(i=>{i.match(ar).forEach((a,o)=>r[o].push(+a))});const n=e[0].match(ar).map((i,a)=>Pr(ie({},t,{output:r[a]})));return i=>{let a=0;return e[0].replace(ar,()=>n[a++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(o,s,u,c,f)=>`rgba(${Math.round(s)}, ${Math.round(u)}, ${Math.round(c)}, ${f})`)}};let Nt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Es=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Os=["Webkit","Ms","Moz","O"];Nt=Object.keys(Nt).reduce((t,e)=>(Os.forEach(r=>t[Es(r,e)]=t[e]),t),Nt);function Ts(t,e,r){return e==null||typeof e=="boolean"||e===""?"":!r&&typeof e=="number"&&e!==0&&!(Nt.hasOwnProperty(t)&&Nt[t])?e+"px":(""+e).trim()}const ni={};Yo(t=>new fs(t));Wo(xs);Ko(Ar);Uo((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){const i=e.style,a=e.children,o=e.scrollTop,s=e.scrollLeft,u=ot(e,["style","children","scrollTop","scrollLeft"]),c=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";o!==void 0&&(t.scrollTop=o),s!==void 0&&(t.scrollLeft=s),a!==void 0&&(t.textContent=a);for(let f in i)if(i.hasOwnProperty(f)){var r=f.indexOf("--")===0,n=Ts(f,i[f],r);f==="float"&&(f="cssFloat"),r?t.style.setProperty(f,n):t.style[f]=n}for(let f in u){const l=c?f:ni[f]||(ni[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase()));typeof t.getAttribute(l)<"u"&&t.setAttribute(l,u[f])}return}else return!1},t=>t);const Rs=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ps=$o(Qo),As=Ps(Rs);function ii(t,e){return t.map(function(r,n){return r+e[n]})}function Qi(t,e){return t.map(function(r,n){return r-e[n]})}function ln(t){return Math.hypot.apply(Math,t)}function Cs(t,e,r){var n=ln(e),i=n===0?0:1/n,a=r===0?0:1/r,o=a*n,s=e.map(function(f){return a*f}),u=e.map(function(f){return i*f}),c=ln(t);return{velocities:s,velocity:o,distance:c,direction:u}}function dn(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function Ds(t,e,r){return Math.max(e,Math.min(t,r))}function ks(t,e){return Math.pow(t,e*5)}function ai(t,e,r){return e===0||Math.abs(e)===1/0?ks(t,r):t*e*r/(e+r*t)}function It(t,e,r,n){return n===void 0&&(n=.15),n===0?Ds(t,e,r):t<e?-ai(e-t,r-e,n)+e:t>r?+ai(t-r,r-e,n)+r:t}function Ns(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Is(t,e,r){return e&&Ns(t.prototype,e),t}function pe(){return pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pe.apply(this,arguments)}function ea(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function js(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ls(t,e){if(t){if(typeof t=="string")return oi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oi(t,e)}}function oi(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mr(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=Ls(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=t[Symbol.iterator](),r.next.bind(r)}function ta(){}function ra(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?ta:e.length===1?e[0]:function(){for(var n,i=Mr(e),a;!(a=i()).done;){var o=a.value;n=o.apply(this,arguments)||n}return n}}function Fe(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function sr(t){if(typeof t=="function"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,r)}else return t}function On(t,e){t===void 0&&(t={});for(var r={},n=0,i=Object.entries(e);n<i.length;n++){var a=i[n],o=a[0],s=a[1];switch(typeof s){case"function":r[o]=s.call(r,t[o],o,t);break;case"object":r[o]=On(t[o],s);break;case"boolean":s&&(r[o]=t[o]);break}}return r}var zs=180,Fs=.15,Ms=.5,Vs=60,Bs={threshold:function(e){return e===void 0&&(e=0),Fe(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return Fe(Fs);case!1:return Fe(0);default:return Fe(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:Fe(e)}},na=pe({},Bs,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(l){return na.bounds(e(l))};var r=e,n=r.left,i=n===void 0?-1/0:n,a=r.right,o=a===void 0?1/0:a,s=r.top,u=s===void 0?-1/0:s,c=r.bottom,f=c===void 0?1/0:c;return[[i,o],[u,f]]}}),_s=typeof window<"u"&&window.document&&window.document.createElement,$s={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=_s?window:void 0),t}),eventOptions:function(e){var r=e===void 0?{}:e,n=r.passive,i=n===void 0?!0:n,a=r.capture,o=a===void 0?!1:a;return{passive:i,capture:o}}},Hs=pe({},na,{threshold:function(e,r,n){var i=n.filterTaps,a=i===void 0?!1:i,o=n.lockDirection,s=o===void 0?!1:o,u=n.axis,c=u===void 0?void 0:u,f=Fe(e,a?3:s||c?1:0);return this.filterTaps=a||f[0]+f[1]>0,f},swipeVelocity:function(e){return e===void 0&&(e=Ms),Fe(e)},swipeDistance:function(e){return e===void 0&&(e=Vs),Fe(e)},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return zs;case!1:return 0;default:return e}}});function Gs(t){return t===void 0&&(t={}),On(t,$s)}function qs(t){return t===void 0&&(t={}),On(t,Hs)}function Us(t){var e=t.domTarget,r=t.eventOptions,n=t.window,i=t.enabled,a=js(t,["domTarget","eventOptions","window","enabled"]),o=Gs({domTarget:e,eventOptions:r,window:n,enabled:i});return o.drag=qs(a),o}function St(t){return pe({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:ta,canceled:!1,memo:void 0,args:void 0},t)}function ia(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},e=St({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),r=St({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),n=St({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=St({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=St({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:r,wheel:n,move:i,scroll:a}}var $e=new Map,Ks=function(){function t(r,n){var i=this;n===void 0&&(n=[]),this.controller=r,this.args=n,this.debounced=!0,this.setTimeout=function(a,o){var s;o===void 0&&(o=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];i.controller.timeouts[i.stateKey]=(s=window).setTimeout.apply(s,[a,o].concat(c))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(a){if(a===void 0&&(a=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!a&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var o=i.state.active,s=i.state._active;i.state.active=s,i.state.first=s&&!o,i.state.last=o&&!s,i.controller.state.shared[i.ingKey]=s}var u=pe({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),c=i.handler(u);return i.state.memo=c!==void 0?c:i.state.memo,i.state._active||i.clean(),u}}var e=t.prototype;return e.updateSharedState=function(n){Object.assign(this.controller.state.shared,n)},e.updateGestureState=function(n){Object.assign(this.state,n)},e.checkIntentionality=function(n,i){return{_intentional:n,_blocked:!1}},e.getMovement=function(n){var i=this.config,a=i.initial,o=i.bounds,s=i.rubberband,u=i.threshold,c=this.state,f=c._bounds,l=c._initial,d=c._active,h=c._intentional,g=c.lastOffset,m=c.movement,R=this.getInternalMovement(n,this.state),x=h[0]===!1?si(R[0],u[0]):h[0],w=h[1]===!1?si(R[1],u[1]):h[1],S=this.checkIntentionality([x,w],R);if(S._blocked)return pe({},S,{_movement:R,delta:[0,0]});var C=S._intentional,A=R,p,y;if(C[0]!==!1&&h[0]===!1&&(y=sr(a,this.state),p=sr(o,this.state),l[0]=y[0],f[0]=p[0]),C[1]!==!1&&h[1]===!1){var E,P;y=(E=y)!=null?E:sr(a,this.state),p=(P=p)!=null?P:sr(o,this.state),l[1]=y[1],f[1]=p[1]}var D=[C[0]!==!1?R[0]-C[0]:l[0],C[1]!==!1?R[1]-C[1]:l[1]],T=ii(D,g),k=d?s:[0,0];return D=ui(f,ii(D,l),k),pe({},S,{intentional:C[0]!==!1||C[1]!==!1,_initial:l,_movement:A,movement:D,values:n,offset:ui(f,T,k),delta:Qi(D,m)})},e.clean=function(){this.clearTimeout()},Is(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t}();function si(t,e){return Math.abs(t)>=e?dn(t)*e:!1}function ui(t,e,r){var n=e[0],i=e[1],a=r[0],o=r[1],s=t[0],u=s[0],c=s[1],f=t[1],l=f[0],d=f[1];return[It(n,u,c,a),It(i,l,d,o)]}function Wr(t,e,r){var n=t.state,i=t.args,a=e.timeStamp,o=e.type,s=n.values,u=r?0:a-n.startTime;return{_lastEventType:o,event:e,timeStamp:a,elapsedTime:u,args:i,previous:s}}function Ws(t,e,r){var n=t.state.offset,i=r.timeStamp;return pe({},ia()[t.stateKey],{_active:!0,values:e,initial:e,offset:n,lastOffset:n,startTime:i})}function Xs(t,e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.call.apply(t,[this,pe({},e,{event:r})].concat(i))}}var Ys=function(e){var r=this;this.classes=e,this.bind=function(){for(var n={},i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=Mr(r.classes),u;!(u=s()).done;){var c=u.value;new c(r,a).addBindings(n)}for(var f=0,l=Object.entries(r.nativeRefs);f<l.length;f++){var d=l[f],h=d[0],g=d[1];hn(n,h,Xs(g,pe({},r.state.shared,{args:a})))}return r.config.domTarget?eu(r,n):tu(r,n)},this.effect=function(){return r.config.domTarget&&r.bind(),r.clean},this.clean=function(){var n=oa(r.config),i=r.config.eventOptions;n&&$t(n,aa(r.domListeners),i),Object.values(r.timeouts).forEach(clearTimeout),Js(r)},this.state=ia(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Js(t){var e=t.config,r=e.window,n=e.eventOptions,i=t.windowListeners;if(r){for(var a in i){var o=i[a];$t(r,o,n)}t.windowListeners={}}}function Zs(t,e){var r=t.config,n=t.windowListeners;r.window&&($t(r.window,n[e],r.eventOptions),delete n[e])}function Qs(t,e,r){var n=t.config,i=t.windowListeners;r===void 0&&(r=[]),n.window&&($t(n.window,i[e],n.eventOptions),sa(n.window,i[e]=r,n.eventOptions))}function eu(t,e){var r=t.config,n=t.domListeners,i=oa(r);if(!i)throw new Error("domTarget must be defined");var a=r.eventOptions;$t(i,aa(n),a);for(var o=0,s=Object.entries(e);o<s.length;o++){var u=s[o],c=u[0],f=u[1],l=c.slice(2).toLowerCase();n.push([l,ra.apply(void 0,f)])}sa(i,n,a)}function tu(t,e){for(var r=t.config,n={},i=r.eventOptions.capture?"Capture":"",a=0,o=Object.entries(e);a<o.length;a++){var s=o[a],u=s[0],c=s[1],f=Array.isArray(c)?c:[c],l=u+i;n[l]=ra.apply(void 0,f)}return n}function aa(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function oa(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function hn(t,e,r){t[e]||(t[e]=[]),t[e].push(r)}function sa(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={});for(var n=Mr(e),i;!(i=n()).done;){var a=i.value,o=a[0],s=a[1];t.addEventListener(o,s,r)}}function $t(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={});for(var n=Mr(e),i;!(i=n()).done;){var a=i.value,o=a[0],s=a[1];t.removeEventListener(o,s,r)}}function ru(t,e,r){r===void 0&&(r={});var n=iu(t),i=ye.useMemo(function(){return new Ys(n)},[]);return i.config=e,i.handlers=t,i.nativeRefs=r,ye.useEffect(i.effect,[]),i.config.domTarget?nu:i.bind}function nu(){}function iu(t){var e=new Set;return t.drag&&e.add($e.get("drag")),t.wheel&&e.add($e.get("wheel")),t.scroll&&e.add($e.get("scroll")),t.move&&e.add($e.get("move")),t.pinch&&e.add($e.get("pinch")),t.hover&&e.add($e.get("hover")),e}var au=function(t){ea(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.getInternalMovement=function(i,a){return Qi(i,a.initial)},r.checkIntentionality=function(i,a){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var o=a.map(Math.abs),s=o[0],u=o[1],c=this.state.axis||(s>u?"x":s<u?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:c}:c?this.config.axis&&c!==this.config.axis?{_intentional:i,_blocked:!0,axis:c}:(i[c==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:c}):{_intentional:[!1,!1],_blocked:!1,axis:c}},r.getKinematics=function(i,a){var o=this.getMovement(i);if(!o._blocked){var s=a.timeStamp-this.state.timeStamp;Object.assign(o,Cs(o.movement,o.delta,s))}return o},r.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(Ks);function ua(t){if("touches"in t){var e=t.targetTouches,r=t.changedTouches;return e.length>0?e:r}return null}function ci(t){var e="buttons"in t?t.buttons:0,r=ua(t),n=r&&r.length||0,i=n>0||e>0,a=t.shiftKey,o=t.altKey,s=t.metaKey,u=t.ctrlKey;return{touches:n,down:i,buttons:e,shiftKey:a,altKey:o,metaKey:s,ctrlKey:u}}function fi(t){var e=ua(t),r=e?e[0]:t,n=r.clientX,i=r.clientY;return[n,i]}var ou=3,su=220,uu=function(t){ea(e,t);function e(){var n;return n=t.apply(this,arguments)||this,n.ingKey="dragging",n.stateKey="drag",n.onDragStart=function(i){!n.enabled||n.state._active||(Qs(n.controller,n.stateKey,[["pointermove",n.onDragChange],["pointerup",n.onDragEnd],["pointercancel",n.onDragEnd]]),n.updateGestureState({_pointerId:i.pointerId}),n.config.delay>0?(n.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),n.setTimeout(n.startDrag.bind(or(n)),n.config.delay,i)):n.startDrag(i))},n.onDragChange=function(i){if(!n.state.canceled&&i.pointerId===n.state._pointerId){if(!n.state._active){n.state._delayedEvent&&(n.clearTimeout(),n.startDrag(i));return}var a=ci(i);if(!a.down){n.onDragEnd(i);return}n.updateSharedState(a);var o=fi(i),s=n.getKinematics(o,i),u=Wr(or(n),i),c=n.state._isTap,f=ln(s._movement);c&&f>=ou&&(c=!1),n.updateGestureState(pe({},u,s,{_isTap:c})),n.fireGestureHandler()}},n.onDragEnd=function(i){if(i.pointerId===n.state._pointerId){n.state._active=!1,n.updateSharedState({down:!1,buttons:0,touches:0});var a=n.state._isTap,o=n.state.velocities,s=o[0],u=o[1],c=n.state.movement,f=c[0],l=c[1],d=n.state._intentional,h=d[0],g=d[1],m=n.config.swipeVelocity,R=m[0],x=m[1],w=n.config.swipeDistance,S=w[0],C=w[1],A=pe({},Wr(or(n),i),n.getMovement(n.state.values)),p=[0,0];A.elapsedTime<su&&(h!==!1&&Math.abs(s)>R&&Math.abs(f)>S&&(p[0]=dn(s)),g!==!1&&Math.abs(u)>x&&Math.abs(l)>C&&(p[1]=dn(u))),n.updateGestureState(pe({},A,{tap:a,swipe:p})),n.fireGestureHandler(a===!0)}},n.clean=function(){t.prototype.clean.call(or(n)),n.state._delayedEvent=!1,Zs(n.controller,n.stateKey)},n.onCancel=function(){n.state.canceled||(n.updateGestureState({canceled:!0}),n.state._active=!1,n.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return n.fireGestureHandler()}))},n.onClick=function(i){n.state._isTap||i.stopPropagation()},n}var r=e.prototype;return r.startDrag=function(i){var a=fi(i);this.updateSharedState(ci(i)),this.updateGestureState(pe({},Ws(this,a,i),Wr(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()},r.addBindings=function(i){if(hn(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var a=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";hn(i,a,this.onClick)}},e}(au);function cu(t,e){var r,n=[],i,a=!1;function o(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return a&&r===this&&e(u,n)||(i=t.apply(this,u),a=!0,r=this,n=u),i}return o}function br(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!br(t[n],e[n]))return!1;return!0}var a;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!br(n.value[1],e.get(n.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!(i[n]==="_owner"&&t.$$typeof)&&!br(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}function fu(t,e){try{return br(t,e)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}function lu(t,e){e===void 0&&(e={}),$e.set("drag",uu);var r=v.useRef();return r.current||(r.current=cu(Us,fu)),ru({drag:t},r.current(e))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ca=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Dr=ca.join(","),fa=typeof Element>"u",Ue=fa?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vn=!fa&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},la=function(e,r,n){var i=Array.prototype.slice.apply(e.querySelectorAll(Dr));return r&&Ue.call(e,Dr)&&i.unshift(e),i=i.filter(n),i},da=function t(e,r,n){for(var i=[],a=Array.from(e);a.length;){var o=a.shift();if(o.tagName==="SLOT"){var s=o.assignedElements(),u=s.length?s:o.children,c=t(u,!0,n);n.flatten?i.push.apply(i,c):i.push({scope:o,candidates:c})}else{var f=Ue.call(o,Dr);f&&n.filter(o)&&(r||!e.includes(o))&&i.push(o);var l=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),d=!n.shadowRootFilter||n.shadowRootFilter(o);if(l&&d){var h=t(l===!0?o.children:l.children,!0,n);n.flatten?i.push.apply(i,h):i.push({scope:o,candidates:h})}else a.unshift.apply(a,o.children)}}return i},ha=function(e,r){return e.tabIndex<0&&(r||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},du=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},va=function(e){return e.tagName==="INPUT"},hu=function(e){return va(e)&&e.type==="hidden"},vu=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},pu=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},yu=function(e){if(!e.name)return!0;var r=e.form||vn(e),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=pu(i,e.form);return!a||a===e},gu=function(e){return va(e)&&e.type==="radio"},mu=function(e){return gu(e)&&!yu(e)},li=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},bu=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=Ue.call(e,"details>summary:first-of-type"),o=a?e.parentElement:e;if(Ue.call(o,"details:not([open]) *"))return!0;var s=vn(e).host,u=(s==null?void 0:s.ownerDocument.contains(s))||e.ownerDocument.contains(e);if(!n||n==="full"){if(typeof i=="function"){for(var c=e;e;){var f=e.parentElement,l=vn(e);if(f&&!f.shadowRoot&&i(f)===!0)return li(e);e.assignedSlot?e=e.assignedSlot:!f&&l!==e.ownerDocument?e=l.host:e=f}e=c}if(u)return!e.getClientRects().length}else if(n==="non-zero-area")return li(e);return!1},wu=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return Ue.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},kr=function(e,r){return!(r.disabled||hu(r)||bu(r,e)||vu(r)||wu(r))},pn=function(e,r){return!(mu(r)||ha(r)<0||!kr(e,r))},Su=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},xu=function t(e){var r=[],n=[];return e.forEach(function(i,a){var o=!!i.scope,s=o?i.scope:i,u=ha(s,o),c=o?t(i.candidates):s;u===0?o?r.push.apply(r,c):r.push(s):n.push({documentOrder:a,tabIndex:u,item:i,isScope:o,content:c})}),n.sort(du).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(r)},Eu=function(e,r){r=r||{};var n;return r.getShadowRoot?n=da([e],r.includeContainer,{filter:pn.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Su}):n=la(e,r.includeContainer,pn.bind(null,r)),xu(n)},Ou=function(e,r){r=r||{};var n;return r.getShadowRoot?n=da([e],r.includeContainer,{filter:kr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=la(e,r.includeContainer,kr.bind(null,r)),n},ur=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ue.call(e,Dr)===!1?!1:pn(r,e)},Tu=ca.concat("iframe").join(","),Xr=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ue.call(e,Tu)===!1?!1:kr(r,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function di(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?di(Object(r),!0).forEach(function(n){Ru(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ru(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vi=function(){var t=[];return{activateTrap:function(r){if(t.length>0){var n=t[t.length-1];n!==r&&n.pause()}var i=t.indexOf(r);i===-1||t.splice(i,1),t.push(r)},deactivateTrap:function(r){var n=t.indexOf(r);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}}}(),Pu=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Au=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},Cu=function(e){return e.key==="Tab"||e.keyCode===9},pi=function(e){return setTimeout(e,0)},yi=function(e,r){var n=-1;return e.every(function(i,a){return r(i)?(n=a,!1):!0}),n},xt=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},cr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Du=function(e,r){var n=(r==null?void 0:r.document)||document,i=hi({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},o,s=function(p,y,E){return p&&p[y]!==void 0?p[y]:i[E||y]},u=function(p){return a.containerGroups.findIndex(function(y){var E=y.container,P=y.tabbableNodes;return E.contains(p)||P.find(function(D){return D===p})})},c=function(p){var y=i[p];if(typeof y=="function"){for(var E=arguments.length,P=new Array(E>1?E-1:0),D=1;D<E;D++)P[D-1]=arguments[D];y=y.apply(void 0,P)}if(y===!0&&(y=void 0),!y){if(y===void 0||y===!1)return y;throw new Error("`".concat(p,"` was specified but was not a node, or did not return a node"))}var T=y;if(typeof y=="string"&&(T=n.querySelector(y),!T))throw new Error("`".concat(p,"` as selector refers to no known node"));return T},f=function(){var p=c("initialFocus");if(p===!1)return!1;if(p===void 0)if(u(n.activeElement)>=0)p=n.activeElement;else{var y=a.tabbableGroups[0],E=y&&y.firstTabbableNode;p=E||c("fallbackFocus")}if(!p)throw new Error("Your focus-trap needs to have at least one focusable element");return p},l=function(){if(a.containerGroups=a.containers.map(function(p){var y=Eu(p,i.tabbableOptions),E=Ou(p,i.tabbableOptions);return{container:p,tabbableNodes:y,focusableNodes:E,firstTabbableNode:y.length>0?y[0]:null,lastTabbableNode:y.length>0?y[y.length-1]:null,nextTabbableNode:function(D){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=E.findIndex(function(H){return H===D});if(!(k<0))return T?E.slice(k+1).find(function(H){return ur(H,i.tabbableOptions)}):E.slice(0,k).reverse().find(function(H){return ur(H,i.tabbableOptions)})}}}),a.tabbableGroups=a.containerGroups.filter(function(p){return p.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function A(p){if(p!==!1&&p!==n.activeElement){if(!p||!p.focus){A(f());return}p.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=p,Pu(p)&&p.select()}},h=function(p){var y=c("setReturnFocus",p);return y||(y===!1?!1:p)},g=function(p){var y=cr(p);if(!(u(y)>=0)){if(xt(i.clickOutsideDeactivates,p)){o.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Xr(y,i.tabbableOptions)});return}xt(i.allowOutsideClick,p)||p.preventDefault()}},m=function(p){var y=cr(p),E=u(y)>=0;E||y instanceof Document?E&&(a.mostRecentlyFocusedNode=y):(p.stopImmediatePropagation(),d(a.mostRecentlyFocusedNode||f()))},R=function(p){var y=cr(p);l();var E=null;if(a.tabbableGroups.length>0){var P=u(y),D=P>=0?a.containerGroups[P]:void 0;if(P<0)p.shiftKey?E=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:E=a.tabbableGroups[0].firstTabbableNode;else if(p.shiftKey){var T=yi(a.tabbableGroups,function(ae){var Y=ae.firstTabbableNode;return y===Y});if(T<0&&(D.container===y||Xr(y,i.tabbableOptions)&&!ur(y,i.tabbableOptions)&&!D.nextTabbableNode(y,!1))&&(T=P),T>=0){var k=T===0?a.tabbableGroups.length-1:T-1,H=a.tabbableGroups[k];E=H.lastTabbableNode}}else{var K=yi(a.tabbableGroups,function(ae){var Y=ae.lastTabbableNode;return y===Y});if(K<0&&(D.container===y||Xr(y,i.tabbableOptions)&&!ur(y,i.tabbableOptions)&&!D.nextTabbableNode(y))&&(K=P),K>=0){var ee=K===a.tabbableGroups.length-1?0:K+1,Re=a.tabbableGroups[ee];E=Re.firstTabbableNode}}}else E=c("fallbackFocus");E&&(p.preventDefault(),d(E))},x=function(p){if(Au(p)&&xt(i.escapeDeactivates,p)!==!1){p.preventDefault(),o.deactivate();return}if(Cu(p)){R(p);return}},w=function(p){var y=cr(p);u(y)>=0||xt(i.clickOutsideDeactivates,p)||xt(i.allowOutsideClick,p)||(p.preventDefault(),p.stopImmediatePropagation())},S=function(){if(a.active)return vi.activateTrap(o),a.delayInitialFocusTimer=i.delayInitialFocus?pi(function(){d(f())}):d(f()),n.addEventListener("focusin",m,!0),n.addEventListener("mousedown",g,{capture:!0,passive:!1}),n.addEventListener("touchstart",g,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",x,{capture:!0,passive:!1}),o},C=function(){if(a.active)return n.removeEventListener("focusin",m,!0),n.removeEventListener("mousedown",g,!0),n.removeEventListener("touchstart",g,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",x,!0),o};return o={get active(){return a.active},get paused(){return a.paused},activate:function(p){if(a.active)return this;var y=s(p,"onActivate"),E=s(p,"onPostActivate"),P=s(p,"checkCanFocusTrap");P||l(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,y&&y();var D=function(){P&&l(),S(),E&&E()};return P?(P(a.containers.concat()).then(D,D),this):(D(),this)},deactivate:function(p){if(!a.active)return this;var y=hi({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},p);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,C(),a.active=!1,a.paused=!1,vi.deactivateTrap(o);var E=s(y,"onDeactivate"),P=s(y,"onPostDeactivate"),D=s(y,"checkCanReturnFocus"),T=s(y,"returnFocus","returnFocusOnDeactivate");E&&E();var k=function(){pi(function(){T&&d(h(a.nodeFocusedBeforeActivation)),P&&P()})};return T&&D?(D(h(a.nodeFocusedBeforeActivation)).then(k,k),this):(k(),this)},pause:function(){return a.paused||!a.active?this:(a.paused=!0,C(),this)},unpause:function(){return!a.paused||!a.active?this:(a.paused=!1,l(),S(),this)},updateContainerElements:function(p){var y=[].concat(p).filter(Boolean);return a.containers=y.map(function(E){return typeof E=="string"?n.querySelector(E):E}),a.active&&l(),this}},o.updateContainerElements(e),o};function ku(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var Tn=!1;if(typeof window<"u"){var gi={get passive(){Tn=!0}};window.addEventListener("testPassive",null,gi),window.removeEventListener("testPassive",null,gi)}var pa=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Me=[],Nr=!1,ya=-1,jt=void 0,Lt=void 0,ga=function(e){return Me.some(function(r){return!!(r.options.allowTouchMove&&r.options.allowTouchMove(e))})},Ir=function(e){var r=e||window.event;return ga(r.target)||r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)},Nu=function(e){if(Lt===void 0){var r=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;r&&n>0&&(Lt=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}jt===void 0&&(jt=document.body.style.overflow,document.body.style.overflow="hidden")},Iu=function(){Lt!==void 0&&(document.body.style.paddingRight=Lt,Lt=void 0),jt!==void 0&&(document.body.style.overflow=jt,jt=void 0)},ju=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},Lu=function(e,r){var n=e.targetTouches[0].clientY-ya;return ga(e.target)?!1:r&&r.scrollTop===0&&n>0||ju(r)&&n<0?Ir(e):(e.stopPropagation(),!0)},zu=function(e,r){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Me.some(function(i){return i.targetElement===e})){var n={targetElement:e,options:r||{}};Me=[].concat(ku(Me),[n]),pa?(e.ontouchstart=function(i){i.targetTouches.length===1&&(ya=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&Lu(i,e)},Nr||(document.addEventListener("touchmove",Ir,Tn?{passive:!1}:void 0),Nr=!0)):Nu(r)}},Fu=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Me=Me.filter(function(r){return r.targetElement!==e}),pa?(e.ontouchstart=null,e.ontouchmove=null,Nr&&Me.length===0&&(document.removeEventListener("touchmove",Ir,Tn?{passive:!1}:void 0),Nr=!1)):Me.length||Iu()},Ge=[],Mu=function(){return Ge.some(function(t){return t.activeTargets.length>0})},Vu=function(){return Ge.some(function(t){return t.skippedTargets.length>0})},mi="ResizeObserver loop completed with undelivered notifications.",Bu=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:mi}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=mi),window.dispatchEvent(t)},Bt;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Bt||(Bt={}));var qe=function(t){return Object.freeze(t)},_u=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,qe(this)}return t}(),ma=function(){function t(e,r,n,i){return this.x=e,this.y=r,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,qe(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,i=e.top,a=e.right,o=e.bottom,s=e.left,u=e.width,c=e.height;return{x:r,y:n,top:i,right:a,bottom:o,left:s,width:u,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Rn=function(t){return t instanceof SVGElement&&"getBBox"in t},ba=function(t){if(Rn(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var i=t,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||t.getClientRects().length)},bi=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},$u=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},zt=typeof window<"u"?window:{},fr=new WeakMap,wi=/auto|scroll/,Hu=/^tb|vertical/,Gu=/msie|trident/i.test(zt.navigator&&zt.navigator.userAgent),Ce=function(t){return parseFloat(t||"0")},ut=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new _u((r?e:t)||0,(r?t:e)||0)},Si=qe({devicePixelContentBoxSize:ut(),borderBoxSize:ut(),contentBoxSize:ut(),contentRect:new ma(0,0,0,0)}),wa=function(t,e){if(e===void 0&&(e=!1),fr.has(t)&&!e)return fr.get(t);if(ba(t))return fr.set(t,Si),Si;var r=getComputedStyle(t),n=Rn(t)&&t.ownerSVGElement&&t.getBBox(),i=!Gu&&r.boxSizing==="border-box",a=Hu.test(r.writingMode||""),o=!n&&wi.test(r.overflowY||""),s=!n&&wi.test(r.overflowX||""),u=n?0:Ce(r.paddingTop),c=n?0:Ce(r.paddingRight),f=n?0:Ce(r.paddingBottom),l=n?0:Ce(r.paddingLeft),d=n?0:Ce(r.borderTopWidth),h=n?0:Ce(r.borderRightWidth),g=n?0:Ce(r.borderBottomWidth),m=n?0:Ce(r.borderLeftWidth),R=l+c,x=u+f,w=m+h,S=d+g,C=s?t.offsetHeight-S-t.clientHeight:0,A=o?t.offsetWidth-w-t.clientWidth:0,p=i?R+w:0,y=i?x+S:0,E=n?n.width:Ce(r.width)-p-A,P=n?n.height:Ce(r.height)-y-C,D=E+R+A+w,T=P+x+C+S,k=qe({devicePixelContentBoxSize:ut(Math.round(E*devicePixelRatio),Math.round(P*devicePixelRatio),a),borderBoxSize:ut(D,T,a),contentBoxSize:ut(E,P,a),contentRect:new ma(l,u,E,P)});return fr.set(t,k),k},Sa=function(t,e,r){var n=wa(t,r),i=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(e){case Bt.DEVICE_PIXEL_CONTENT_BOX:return o;case Bt.BORDER_BOX:return i;default:return a}},qu=function(){function t(e){var r=wa(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=qe([r.borderBoxSize]),this.contentBoxSize=qe([r.contentBoxSize]),this.devicePixelContentBoxSize=qe([r.devicePixelContentBoxSize])}return t}(),xa=function(t){if(ba(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},Uu=function(){var t=1/0,e=[];Ge.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var f=new qu(c.target),l=xa(c.target);s.push(f),c.lastReportedSize=Sa(c.target,c.observedBox),l<t&&(t=l)}),e.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var i=n[r];i()}return t},xi=function(t){Ge.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(i){i.isActive()&&(xa(i.target)>t?r.activeTargets.push(i):r.skippedTargets.push(i))})})},Ku=function(){var t=0;for(xi(t);Mu();)t=Uu(),xi(t);return Vu()&&Bu(),t>0},Yr,Ea=[],Wu=function(){return Ea.splice(0).forEach(function(t){return t()})},Xu=function(t){if(!Yr){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Wu()}).observe(r,n),Yr=function(){r.textContent="".concat(e?e--:e++)}}Ea.push(t),Yr()},Yu=function(t){Xu(function(){requestAnimationFrame(t)})},wr=0,Ju=function(){return!!wr},Zu=250,Qu={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ei=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Oi=function(t){return t===void 0&&(t=0),Date.now()+t},Jr=!1,ec=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=Zu),!Jr){Jr=!0;var n=Oi(e);Yu(function(){var i=!1;try{i=Ku()}finally{if(Jr=!1,e=n-Oi(),!Ju())return;i?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,Qu)};document.body?r():zt.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ei.forEach(function(r){return zt.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ei.forEach(function(r){return zt.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),yn=new ec,Ti=function(t){!wr&&t>0&&yn.start(),wr+=t,!wr&&yn.stop()},tc=function(t){return!Rn(t)&&!$u(t)&&getComputedStyle(t).display==="inline"},rc=function(){function t(e,r){this.target=e,this.observedBox=r||Bt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Sa(this.target,this.observedBox,!0);return tc(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),nc=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),lr=new WeakMap,Ri=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},dr=function(){function t(){}return t.connect=function(e,r){var n=new nc(e,r);lr.set(e,n)},t.observe=function(e,r,n){var i=lr.get(e),a=i.observationTargets.length===0;Ri(i.observationTargets,r)<0&&(a&&Ge.push(i),i.observationTargets.push(new rc(r,n&&n.box)),Ti(1),yn.schedule())},t.unobserve=function(e,r){var n=lr.get(e),i=Ri(n.observationTargets,r),a=n.observationTargets.length===1;i>=0&&(a&&Ge.splice(Ge.indexOf(n),1),n.observationTargets.splice(i,1),Ti(-1))},t.disconnect=function(e){var r=this,n=lr.get(e);n.observationTargets.slice().forEach(function(i){return r.unobserve(e,i.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),ic=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");dr.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bi(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");dr.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bi(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");dr.unobserve(this,e)},t.prototype.disconnect=function(){dr.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function le(){return le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},le.apply(this,arguments)}function Sr(t,e){if(t==null)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(i[r]=t[r]);return i}var Ft=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Et(t,e,r){return e=(e=+e)==e?e:0,r=(r=+r)==r?r:0,(t=+t)==t&&(t=(t=t<=r?t:r)>=e?t:e),t}function hr(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var ac={box:"border-box"};function Zr(t,e){var r=e.label,n=e.enabled,i=e.resizeSourceRef,a=v.useState(0),o=a[0],s=a[1];v.useDebugValue(r+": "+o);var u=v.useCallback(function(c){s(c[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return Ft(function(){if(t.current&&n){var c=new ic(u);return c.observe(t.current,ac),function(){c.disconnect()}}},[t,u,n]),n?o:0}function fe(t){return t===void 0&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var Pi={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},Ai={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},oc=ko({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:le({},Pi,Ai)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:le({},Pi,Ai)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:le({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[No({y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var r=e.payload.source;return r===void 0?"custom":r}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(fe()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},activate:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},deactivate:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},openSmoothly:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},openImmediately:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},snapSmoothly:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},resizeSmoothly:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}},closeSmoothly:function(t,e){try{return Promise.resolve(fe()).then(function(){})}catch(r){return Promise.reject(r)}}},guards:{initiallyClosed:function(t){return t.initialState==="CLOSED"},initiallyOpen:function(t){return t.initialState==="OPEN"}}}),sc=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],uc=["velocity"],cc=["onRest","config"],Oa=is.default,fc=Oa.tension,vr=Oa.friction,lc=ye.forwardRef(function(t,e){var r=t.children,n=t.sibling,i=t.className,a=t.footer,o=t.header,s=t.open,u=t.initialState,c=t.lastSnapRef,f=t.initialFocusRef,l=t.onDismiss,d=t.maxHeight,h=t.defaultSnap,g=h===void 0?hc:h,m=t.snapPoints,R=m===void 0?vc:m,x=t.blocking,w=x===void 0||x,S=t.scrollLocking,C=S===void 0||S,A=t.style,p=t.onSpringStart,y=t.onSpringCancel,E=t.onSpringEnd,P=t.reserveScrollBarGap,D=P===void 0?w:P,T=t.expandOnContentDrag,k=T!==void 0&&T,H=Sr(t,sc),K=function(){var b=v.useState(!1),I=b[0],N=b[1],F=v.useState({}),J=F[0],B=F[1],U=v.useCallback(function(W){return B(function(Z){var j;return le({},Z,((j={})[W]=!1,j))}),function(){B(function(Z){var j;return le({},Z,((j={})[W]=!0,j))})}},[]);return v.useEffect(function(){var W=Object.values(J);W.length!==0&&W.every(Boolean)&&N(!0)},[J]),{ready:I,registerReady:U}}(),ee=K.ready,Re=K.registerReady,ae=v.useRef(!1),Y=v.useRef(p),oe=v.useRef(y),re=v.useRef(E);v.useEffect(function(){Y.current=p,oe.current=y,re.current=E},[y,p,E]);var te,q,Ve=cs(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),de=Ve[0],Pe=Ve[1],Vr=v.useRef(null),ht=v.useRef(null),Pn=v.useRef(null),An=v.useRef(null),Cn=v.useRef(null),Dn=v.useRef(null),De=v.useRef(0),Ke=v.useRef(),Br=v.useRef(!1),Ie=(te=v.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),q=v.useRef(te==null?void 0:te.matches),v.useDebugValue(q.current?"reduce":"no-preference"),v.useEffect(function(){var b=function(I){q.current=I.matches};return te==null||te.addListener(b),function(){return te==null?void 0:te.removeListener(b)}},[te]),q),We=function(b){var I=b.targetRef,N=b.enabled,F=b.reserveScrollBarGap,J=v.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return v.useDebugValue(N?"Enabled":"Disabled"),v.useEffect(function(){if(!N)return J.current.deactivate(),void(J.current={activate:function(){},deactivate:function(){}});var B=I.current,U=!1;J.current={activate:function(){U||(U=!0,zu(B,{allowTouchMove:function(W){return W.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:F}))},deactivate:function(){U&&(U=!1,Fu(B))}}},[N,I,F]),J}({targetRef:ht,enabled:ee&&C,reserveScrollBarGap:D}),Xe=function(b){var I=b.targetRef,N=b.enabled,F=v.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return v.useDebugValue(N?"Enabled":"Disabled"),v.useEffect(function(){if(!N)return F.current.deactivate(),void(F.current={activate:function(){},deactivate:function(){}});var J=I.current,B=!1,U=[],W=[];F.current={activate:function(){if(!B){B=!0;var Z=J.parentNode;document.querySelectorAll("body > *").forEach(function(j){if(j!==Z){var _=j.getAttribute("aria-hidden");_!==null&&_!=="false"||(U.push(_),W.push(j),j.setAttribute("aria-hidden","true"))}})}},deactivate:function(){B&&(B=!1,W.forEach(function(Z,j){var _=U[j];_===null?Z.removeAttribute("aria-hidden"):Z.setAttribute("aria-hidden",_)}),U=[],W=[])}}},[I,N]),F}({targetRef:Vr,enabled:ee&&w}),Ye=function(b){var I=b.targetRef,N=b.fallbackRef,F=b.initialFocusRef,J=b.enabled,B=v.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return v.useDebugValue(J?"Enabled":"Disabled"),v.useEffect(function(){if(!J)return B.current.deactivate(),void(B.current={activate:function(){},deactivate:function(){}});var U=N.current,W=Du(I.current,{onActivate:void 0,initialFocus:F?function(){return(F==null?void 0:F.current)||U}:void 0,fallbackFocus:U,escapeDeactivates:!1,clickOutsideDeactivates:!1}),Z=!1;B.current={activate:function(){try{return Z?Promise.resolve():(Z=!0,Promise.resolve(W.activate()).then(function(){return Promise.resolve(new Promise(function(j){return setTimeout(function(){return j(void 0)},0)})).then(function(){})}))}catch(j){return Promise.reject(j)}},deactivate:function(){Z&&(Z=!1,W.deactivate())}}},[J,N,F,I]),B}({targetRef:Vr,fallbackRef:Dn,initialFocusRef:f||void 0,enabled:ee&&w&&f!==!1}),Ht=function(b){var I=b.getSnapPoints,N=b.heightRef,F=b.lastSnapRef,J=b.ready,B=function(ue){var Se=ue.contentRef,Ne=ue.controlledMaxHeight,ve=ue.footerEnabled,Be=ue.footerRef,Ze=ue.headerEnabled,xe=ue.headerRef,gt=ue.registerReady,Kt=ue.resizeSourceRef,Nn=v.useMemo(function(){return gt("contentHeight")},[gt]),In=function(mt,Fn,Wt){var Xt=v.useMemo(function(){return Fn("maxHeight")},[Fn]),Mn=v.useState(function(){return hr(mt)||typeof window<"u"?window.innerHeight:0}),Vn=Mn[0],Hr=Mn[1],Bn=Vn>0,Yt=v.useRef(0);return v.useDebugValue(mt?"controlled":"auto"),v.useEffect(function(){Bn&&Xt()},[Bn,Xt]),Ft(function(){if(mt)return Hr(hr(mt)),void(Wt.current="maxheightprop");var _n=function(){Yt.current||(Yt.current=requestAnimationFrame(function(){Hr(window.innerHeight),Wt.current="window",Yt.current=0}))};return window.addEventListener("resize",_n),Hr(window.innerHeight),Wt.current="window",Xt(),function(){window.removeEventListener("resize",_n),cancelAnimationFrame(Yt.current)}},[mt,Xt,Wt]),Vn}(Ne,gt,Kt),_r=Zr(xe,{label:"headerHeight",enabled:Ze,resizeSourceRef:Kt}),jn=Zr(Se,{label:"contentHeight",enabled:!0,resizeSourceRef:Kt}),$r=Zr(Be,{label:"footerHeight",enabled:ve,resizeSourceRef:Kt}),Ln=Math.min(In-_r-$r,jn)+_r+$r;v.useDebugValue("minHeight: "+Ln);var zn=jn>0;return v.useEffect(function(){zn&&Nn()},[zn,Nn]),{maxHeight:In,minHeight:Ln,headerHeight:_r,footerHeight:$r}}({contentRef:b.contentRef,controlledMaxHeight:b.controlledMaxHeight,footerEnabled:b.footerEnabled,footerRef:b.footerRef,headerEnabled:b.headerEnabled,headerRef:b.headerRef,registerReady:b.registerReady,resizeSourceRef:b.resizeSourceRef}),U=B.maxHeight,W=B.minHeight,Z=B.headerHeight,j=B.footerHeight,_=function(ue,Se){var Ne=[].concat(ue).map(hr).reduce(function(xe,gt){return xe.add(Et(gt,0,Se)),xe},new Set),ve=Array.from(Ne),Be=Math.min.apply(Math,ve);if(Number.isNaN(Be))throw new TypeError("minSnap is NaN");var Ze=Math.max.apply(Math,ve);if(Number.isNaN(Ze))throw new TypeError("maxSnap is NaN");return{snapPoints:ve,minSnap:Be,maxSnap:Ze}}(J?I({height:N.current,footerHeight:j,headerHeight:Z,minHeight:W,maxHeight:U}):[0],U),me=_.snapPoints,Je=_.minSnap,we=_.maxSnap;return v.useDebugValue("minSnap: "+Je+", maxSnap:"+we),{minSnap:Je,maxSnap:we,findSnap:function(ue){var Se=hr(typeof ue=="function"?ue({footerHeight:j,headerHeight:Z,height:N.current,minHeight:W,maxHeight:U,snapPoints:me,lastSnap:F.current}):ue);return me.reduce(function(Ne,ve){return Math.abs(ve-Se)<Math.abs(Ne-Se)?ve:Ne},Je)},maxHeight:U}}({contentRef:Pn,controlledMaxHeight:d,footerEnabled:!!a,footerRef:Cn,getSnapPoints:R,headerEnabled:o!==!1,headerRef:An,heightRef:De,lastSnapRef:c,ready:ee,registerReady:Re,resizeSourceRef:Ke}),vt=Ht.minSnap,pt=Ht.maxSnap,yt=Ht.maxHeight,Gt=Ht.findSnap,ke=v.useRef(yt),ge=v.useRef(vt),ne=v.useRef(pt),qt=v.useRef(Gt),Ae=v.useRef(0);Ft(function(){ke.current=yt,ne.current=pt,ge.current=vt,qt.current=Gt,Ae.current=Gt(g)},[Gt,g,yt,pt,vt]);var he=v.useCallback(function(b){var I=b.onRest,N=b.config,F=(N=N===void 0?{}:N).velocity,J=F===void 0?1:F,B=Sr(N,uc),U=Sr(b,cc);return new Promise(function(W){return Pe(le({},U,{config:le({velocity:J},B,{mass:1,tension:fc,friction:Math.max(vr,vr+(vr-vr*J))}),onRest:function(){var Z=[].slice.call(arguments);W.apply(void 0,Z),I==null||I.apply(void 0,Z)}}))})},[Pe]),kn=_o(oc,{devTools:!1,actions:{onOpenCancel:v.useCallback(function(){return oe.current==null?void 0:oe.current({type:"OPEN"})},[]),onSnapCancel:v.useCallback(function(b){return oe.current==null?void 0:oe.current({type:"SNAP",source:b.snapSource})},[]),onCloseCancel:v.useCallback(function(){return oe.current==null?void 0:oe.current({type:"CLOSE"})},[]),onResizeCancel:v.useCallback(function(){return oe.current==null?void 0:oe.current({type:"RESIZE",source:Ke.current})},[]),onOpenEnd:v.useCallback(function(){return re.current==null?void 0:re.current({type:"OPEN"})},[]),onSnapEnd:v.useCallback(function(b,I){return re.current==null?void 0:re.current({type:"SNAP",source:b.snapSource})},[]),onResizeEnd:v.useCallback(function(){return re.current==null?void 0:re.current({type:"RESIZE",source:Ke.current})},[])},context:{initialState:u},services:{onSnapStart:v.useCallback(function(b,I){try{return Promise.resolve(Y.current==null?void 0:Y.current({type:"SNAP",source:I.payload.source||"custom"}))}catch(N){return Promise.reject(N)}},[]),onOpenStart:v.useCallback(function(){try{return Promise.resolve(Y.current==null?void 0:Y.current({type:"OPEN"}))}catch(b){return Promise.reject(b)}},[]),onCloseStart:v.useCallback(function(){try{return Promise.resolve(Y.current==null?void 0:Y.current({type:"CLOSE"}))}catch(b){return Promise.reject(b)}},[]),onResizeStart:v.useCallback(function(){try{return Promise.resolve(Y.current==null?void 0:Y.current({type:"RESIZE",source:Ke.current}))}catch(b){return Promise.reject(b)}},[]),onSnapEnd:v.useCallback(function(b,I){try{return Promise.resolve(re.current==null?void 0:re.current({type:"SNAP",source:b.snapSource}))}catch(N){return Promise.reject(N)}},[]),onOpenEnd:v.useCallback(function(){try{return Promise.resolve(re.current==null?void 0:re.current({type:"OPEN"}))}catch(b){return Promise.reject(b)}},[]),onCloseEnd:v.useCallback(function(){try{return Promise.resolve(re.current==null?void 0:re.current({type:"CLOSE"}))}catch(b){return Promise.reject(b)}},[]),onResizeEnd:v.useCallback(function(){try{return Promise.resolve(re.current==null?void 0:re.current({type:"RESIZE",source:Ke.current}))}catch(b){return Promise.reject(b)}},[]),renderVisuallyHidden:v.useCallback(function(b,I){try{return Promise.resolve(he({y:Ae.current,ready:0,maxHeight:ke.current,maxSnap:ne.current,minSnap:Ae.current,immediate:!0})).then(function(){})}catch(N){return Promise.reject(N)}},[he]),activate:v.useCallback(function(b,I){try{return ae.current=!0,Promise.resolve(Promise.all([We.current.activate(),Ye.current.activate(),Xe.current.activate()])).then(function(){})}catch(N){return Promise.reject(N)}},[Xe,Ye,We]),deactivate:v.useCallback(function(){try{return We.current.deactivate(),Ye.current.deactivate(),Xe.current.deactivate(),ae.current=!1,Promise.resolve()}catch(b){return Promise.reject(b)}},[Xe,Ye,We]),openImmediately:v.useCallback(function(){try{return De.current=Ae.current,Promise.resolve(he({y:Ae.current,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:Ae.current,immediate:!0})).then(function(){})}catch(b){return Promise.reject(b)}},[he]),openSmoothly:v.useCallback(function(){try{return Promise.resolve(he({y:0,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:Ae.current,immediate:!0})).then(function(){return De.current=Ae.current,Promise.resolve(he({y:Ae.current,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:Ae.current,immediate:Ie.current})).then(function(){})})}catch(b){return Promise.reject(b)}},[he,Ie]),snapSmoothly:v.useCallback(function(b,I){try{var N=qt.current(b.y);return De.current=N,c.current=N,Promise.resolve(he({y:N,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:ge.current,immediate:Ie.current,config:{velocity:b.velocity}})).then(function(){})}catch(F){return Promise.reject(F)}},[he,c,Ie]),resizeSmoothly:v.useCallback(function(){try{var b=qt.current(De.current);return De.current=b,c.current=b,Promise.resolve(he({y:b,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:ge.current,immediate:Ke.current!=="element"||Ie.current})).then(function(){})}catch(I){return Promise.reject(I)}},[he,c,Ie]),closeSmoothly:v.useCallback(function(b,I){try{return he({minSnap:De.current,immediate:!0}),De.current=0,Promise.resolve(he({y:0,maxHeight:ke.current,maxSnap:ne.current,immediate:Ie.current})).then(function(){return Promise.resolve(he({ready:0,immediate:!0})).then(function(){})})}catch(N){return Promise.reject(N)}},[he,Ie])}}),Ta=kn[0],je=kn[1];v.useEffect(function(){ee&&je(s?"OPEN":"CLOSE")},[s,je,ee]),Ft(function(){(yt||pt||vt)&&je("RESIZE")},[yt,pt,vt,je]),v.useEffect(function(){return function(){We.current.deactivate(),Ye.current.deactivate(),Xe.current.deactivate()}},[Xe,Ye,We]),v.useImperativeHandle(e,function(){return{snapTo:function(b,I){var N=I===void 0?{}:I,F=N.velocity,J=F===void 0?1:F,B=N.source,U=B===void 0?"custom":B;je("SNAP",{payload:{y:qt.current(b),velocity:J,source:U}})},get height(){return De.current}}},[je]),v.useEffect(function(){var b=ht.current,I=function(F){Br.current&&F.preventDefault()},N=function(F){b.scrollTop<0&&(requestAnimationFrame(function(){b.style.overflow="hidden",b.scrollTop=0,b.style.removeProperty("overflow")}),F.preventDefault())};return k&&(b.addEventListener("scroll",I),b.addEventListener("touchmove",I),b.addEventListener("touchstart",N)),function(){b.removeEventListener("scroll",I),b.removeEventListener("touchmove",I),b.removeEventListener("touchstart",N)}},[k,ht]);var Ut=lu(function(b){var I=b.args,N=(I=I===void 0?[]:I)[0],F=(N=N===void 0?{}:N).closeOnTap,J=F!==void 0&&F,B=N.isContentDragging,U=B!==void 0&&B,W=b.cancel,Z=b.direction[1],j=b.down,_=b.first,me=b.last,Je=b.memo,we=Je===void 0?de.y.getValue():Je,ue=b.tap,Se=b.velocity,Ne=-1*b.movement[1];if(!ae.current)return W(),we;if(l&&J&&ue)return W(),setTimeout(function(){return l()},0),we;if(ue)return we;var ve=we+Ne,Be=Ne*Se,Ze=Math.max(ge.current,Math.min(ne.current,ve+2*Be));if(!j&&l&&Z>0&&ve+Be<ge.current/2)return W(),l(),we;var xe=j?l||ge.current!==ne.current?It(ve,l?0:ge.current,ne.current,.55):ve<ge.current?It(ve,ge.current,2*ne.current,.55):It(ve,ge.current/2,ne.current,.55):Ze;return k&&U?(xe>=ne.current&&(xe=ne.current),we===ne.current&&ht.current.scrollTop>0&&(xe=ne.current),Br.current=xe<ne.current):Br.current=!1,_&&je("DRAG"),me?(je("SNAP",{payload:{y:xe,velocity:Se>.05?Se:1,source:"dragging"}}),we):(Pe({y:xe,ready:1,maxHeight:ke.current,maxSnap:ne.current,minSnap:ge.current,immediate:!0,config:{velocity:Se}}),we)},{filterTaps:!0});if(Number.isNaN(ne.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(ge.current))throw new TypeError("minSnapRef is NaN!!");var Ra=function(b){var I,N=b.spring,F=rt([N.y,N.maxHeight],function(j,_){return Math.round(Et(_-j,0,16))+"px"}),J=rt([N.y,N.minSnap,N.maxSnap],function(j,_,me){return Et(j,_,me)+"px"}),B=rt([N.y,N.minSnap,N.maxSnap],function(j,_,me){return j<_?_-j+"px":j>me?me-j+"px":"0px"}),U=rt([N.y,N.maxSnap],function(j,_){return j>=_?Math.ceil(j-_):0}),W=rt([N.y,N.minSnap],function(j,_){if(!_)return 0;var me=Math.max(_/2-45,0);return Et((j-me)*(1/(Math.min(_/2+45,_)-me)+0),0,1)}),Z=rt([N.y,N.minSnap],function(j,_){return _?Et(j/_,0,1):0});return(I={})["--rsbs-content-opacity"]=W,I["--rsbs-backdrop-opacity"]=Z,I["--rsbs-antigap-scale-y"]=U,I["--rsbs-overlay-translate-y"]=B,I["--rsbs-overlay-rounded"]=F,I["--rsbs-overlay-h"]=J,I}({spring:de});return ye.createElement(As.div,le({},H,{"data-rsbs-root":!0,"data-rsbs-state":dc.find(Ta.matches),"data-rsbs-is-blocking":w,"data-rsbs-is-dismissable":!!l,"data-rsbs-has-header":!!o,"data-rsbs-has-footer":!!a,className:i,ref:Vr,style:le({},Ra,A,{opacity:de.ready})}),n,w&&ye.createElement("div",le({key:"backdrop","data-rsbs-backdrop":!0},Ut({closeOnTap:!0}))),ye.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Dn,onKeyDown:function(b){b.key==="Escape"&&(b.stopPropagation(),l&&l())}},o!==!1&&ye.createElement("div",le({key:"header","data-rsbs-header":!0,ref:An},Ut()),o),ye.createElement("div",le({key:"scroll","data-rsbs-scroll":!0,ref:ht},k?Ut({isContentDragging:!0}):{}),ye.createElement("div",{"data-rsbs-content":!0,ref:Pn},r)),a&&ye.createElement("div",le({key:"footer",ref:Cn,"data-rsbs-footer":!0},Ut()),a)))}),dc=["closed","opening","open","closing","dragging","snapping","resizing"];function hc(t){var e=t.lastSnap;return e??Math.min.apply(Math,t.snapPoints)}function vc(t){return t.minHeight}var pc=["onSpringStart","onSpringEnd","skipInitialTransition"],yc=v.forwardRef(function(t,e){var r=t.onSpringStart,n=t.onSpringEnd,i=t.skipInitialTransition,a=Sr(t,pc),o=v.useState(!1),s=o[0],u=o[1],c=v.useRef(),f=v.useRef(null),l=v.useRef(i&&a.open?"OPEN":"CLOSED");Ft(function(){if(a.open)return cancelAnimationFrame(c.current),u(!0),function(){l.current="CLOSED"}},[a.open]);var d=v.useCallback(function(g){return Promise.resolve(r==null?void 0:r(g)).then(function(){g.type==="OPEN"&&cancelAnimationFrame(c.current)})},[r]),h=v.useCallback(function(g){return Promise.resolve(n==null?void 0:n(g)).then(function(){g.type==="CLOSE"&&(c.current=requestAnimationFrame(function(){return u(!1)}))})},[n]);return s?ye.createElement(La,{"data-rsbs-portal":!0},ye.createElement(lc,le({},a,{lastSnapRef:f,ref:e,initialState:l.current,onSpringStart:d,onSpringEnd:h}))):null});const gc=jr(yc,{target:"e81hl7q3"})({name:"1k5zbiy",styles:"--rsbs-handle-bg:transparent;--rsbs-bg:var(--bg-bottom-sheet);--rsbs-max-w:500px;--rsbs-ml:auto;--rsbs-mr:auto;[data-rsbs-header]{padding:0!important;}[data-rsbs-content]{overflow:initial;}"}),mc=jr("div",{target:"e81hl7q2"})({name:"bxmozk",styles:'margin:0.75rem 1rem;display:flex;align-items:center;gap:1rem;font-size:1.1rem;font-weight:600;position:relative;&:after{content:"";position:absolute;left:50%;top:calc(-0.75rem + 6px);height:5px;width:36px;transform:translateX(-50%);border-radius:2.5px;background:rgba(255, 255, 255, 0.2);}'}),bc=jr("button",{target:"e81hl7q1"})({name:"1vz6ahi",styles:"width:30px;height:30px;background:rgba(255, 255, 255, 0.05);display:flex;align-items:center;justify-content:center;border-radius:1rem;margin-left:auto;appearance:none;border:0;color:inherit;font-size:inherit;padding:0"}),wc=jr(ka,{target:"e81hl7q0"})({name:"11iwig",styles:"width:16px;height:16px;color:rgba(255, 255, 255, 0.5)"});function Ec({title:t,openButton:e,children:r,open:n}){const[i,a]=v.useState(n||!1);return $n(Da,{children:[e&&Jt("div",{onClick:()=>a(!0),children:e}),Jt(gc,{open:i,onDismiss:()=>a(!1),header:$n(mc,{children:[t,Jt(bc,{onClick:()=>a(!1),children:Jt(wc,{icon:Aa})})]}),snapPoints:({maxHeight:o,minHeight:s})=>[Math.min(Ca()?o-(+getComputedStyle(document.documentElement).getPropertyValue("--sat").slice(0,-2)+8||0):o-o/15,s)],expandOnContentDrag:!0,children:r})]})}export{Ec as default};
//# sourceMappingURL=BottomSheetInternals-BnpFqmdQ.js.map
